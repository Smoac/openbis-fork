<project name="build_resources">

	<taskdef name="branch-and-tag-project" classname="ch.systemsx.cisd.ant.task.subversion.SVNBranchAndTagTask" />

	<taskdef name="checkout-project" classname="ch.systemsx.cisd.ant.task.subversion.SVNRecursiveCheckoutTask" />

	<target name="checkout">
		<condition property="repositoryRoot" value="svn+ssh://source.systemsx.ch/repos">
			<not>
				<isset property="repositoryRoot" />
			</not>
		</condition>
		<condition property="group" value="cisd">
			<not>
				<isset property="group" />
			</not>
		</condition>
		<condition property="version" value="trunk">
			<not>
				<isset property="version" />
			</not>
		</condition>
		<condition property="revision" value="HEAD">
			<not>
				<isset property="revision" />
			</not>
		</condition>
		<condition property="dir" value=".">
			<not>
				<isset property="dir" />
			</not>
		</condition>
		<checkout-project repositoryRoot="${repositoryRoot}" group="${group}" name="${name}" version="${version}" 
            revision="${revision}" dir="${dir}" />
	</target>

	<target name="branch">
		<condition property="repositoryRoot" value="svn+ssh://source.systemsx.ch/repos">
            <not>
                <isset property="repositoryRoot" />   
            </not>   
        </condition>
		<condition property="group" value="cisd">
			<not>
				<isset property="group" />
			</not>
		</condition>
		<branch-and-tag-project repositoryRoot="${repositoryRoot}" group="${group}" name="${name}" 
            releaseBranch="${branch}" />
	</target>

    <target name="tag">
        <condition property="repositoryRoot" value="svn+ssh://source.systemsx.ch/repos">
            <not>
                <isset property="repositoryRoot" />   
            </not>   
        </condition>
        <condition property="group" value="cisd">
            <not>
                <isset property="group" />
            </not>
        </condition>
        <branch-and-tag-project repositoryRoot="${repositoryRoot}" group="${group}" name="${name}" 
            releaseTag="${tag}" />
    </target>

    <target name="branch-and-tag">
        <condition property="repositoryRoot" value="svn+ssh://source.systemsx.ch/repos">
            <not>
                <isset property="repositoryRoot" />   
            </not>   
        </condition>
        <condition property="group" value="cisd">
            <not>
                <isset property="group" />
            </not>
        </condition>
        <branch-and-tag-project repositoryRoot="${repositoryRoot}" group="${group}" name="${name}" 
            releaseTag="${tag}" branchIfNecessary="true" />
    </target>

</project>