#
#
#
#show allResults

{root} = ch.systemsx.cisd.openbis
{generic} = ${root}.generic
{phosphonetx} = ${root}.plugin.phosphonetx

######################################################################
# Check dependencies to openbis

[etlserver] = ${root}.etlserver.phosphonetx.*
[private_openbis] = ${root}.* excluding [etlserver] ${root}.dss.generic.shared.* ${root}.generic.shared.* ${phosphonetx}.shared.*

check sets [etlserver]

check [etlserver] independentOf [private_openbis]

######################################################################
# Check plugin dependencies
#
[phosphonetx.client] = ${phosphonetx}.client.*
[phosphonetx.server] = ${phosphonetx}.server.*
[phosphonetx.shared] = ${phosphonetx}.shared.*
[other.client] = ${generic}.client.* ${root}.plugin.*.client excluding  [phosphonetx.client]
[other.server] = ${generic}.server.* ${root}.plugin.*.server excluding  [phosphonetx.server]

check sets [phosphonetx.client] [phosphonetx.server] [phosphonetx.shared]

layer phosphonetx.client-server = [phosphonetx.client] [phosphonetx.server]
layer phosphonetx.shared = [phosphonetx.shared] 
check layeringOf phosphonetx.shared phosphonetx.client-server

check [phosphonetx.client] independentOf [other.server]
check [phosphonetx.server] independentOf [other.client]

######################################################################
# Check API
#

[api-shared] = ${root}.generic.shared.api.* ${root}.generic.shared.basic.dto.RoleWithHierarchy* ${phosphonetx}.shared.api.* 
[api-client] = ${phosphonetx}.client.api.*
[everything-except-java] = * excluding java* *.annotation.* ch.systemsx.cisd.common.api.IRpcService
[everything-except-java-and-api-shared] = [everything-except-java] excluding [api-shared] ch.systemsx.cisd.common.api.client.*

check sets [api-shared] [api-client]

check [api-shared] independentOf [everything-except-java]
check [api-client] independentOf [everything-except-java-and-api-shared]
