<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
	<title>ELN Browser</title>
	
	<!-- Third party Stylesheets -->
	<link type="text/css" rel="stylesheet" href="./lib/bootstrap/css/bootstrap.min.css" />
	<link type="text/css" rel="stylesheet" href="./lib/bootstrap/css/bootstrap-responsive.min.css" />
	<link type="text/css" rel="stylesheet" href="./lib/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css" />
	<link type="text/css" rel="stylesheet" href="./lib/bootstrap-multiselect/css/bootstrap-multiselect.css" />
	<link type="text/css" rel="stylesheet" href="./lib/bootstrap-slider/css/bootstrap-slider.css" />
	<link type="text/css" rel="stylesheet" href="./lib/jquery-jnotify/css/jNotify.jquery.css" />
	
	<!-- ELN UI Stylesheets -->
	<link type="text/css" rel="stylesheet" href="./css/style.css" />
	
	<!-- For debugging with GWT	-->
	<script type="text/javascript" src="/ch.systemsx.cisd.openbis.OpenBIS/resources/js/jquery.js"></script>
	<script type="text/javascript" src="/ch.systemsx.cisd.openbis.OpenBIS/resources/js/openbis.js"></script>
	<script type="text/javascript" src="/ch.systemsx.cisd.openbis.OpenBIS/resources/js/openbis-login.js"></script>
	
	<!-- For production ussage	
	<script type="text/javascript" src="/openbis/resources/js/jquery.js"></script>
	<script type="text/javascript" src="/openbis/resources/js/openbis.js"></script>
	<script type="text/javascript" src="/openbis/resources/js/openbis-login.js"></script>
	-->
	
	<!-- Third party libraries -->
	<script type="text/javascript" src="./lib/bootstrap/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="./lib/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
	<script type="text/javascript" src="./lib/bootstrap-multiselect/js/bootstrap-multiselect.js"></script>
	<script type="text/javascript" src="./lib/bootstrap-slider/js/bootstrap-slider.js"></script>
	<script type="text/javascript" src="./lib/bootstrap-filestyle/js/bootstrap-filestyle.min.js"></script>
	<script type="text/javascript" src="./lib/jquery-jnotify/js/jNotify.jquery.min.js"></script>
	<script type="text/javascript" src="./lib/jquery-blockui/js/jquery.blockUI.js"></script>
	<script type="text/javascript" src="./lib/jquery-history/js/bundled/html5/jquery.history.js"></script>
	<script type="text/javascript" src="./lib/d3/js/d3.min.js"></script>
	<script type="text/javascript" src="./lib/d3-dagre/js/dagre-d3.min.js"></script>
	<script type="text/javascript" src="./lib/naturalsort/js/naturalSort.js"></script>
	<script type="text/javascript" src="./lib/mozilla/js/infra.js"></script>
	
	<!-- ELN UI -->
	<script type="text/javascript" src="./js/controllers/MainController.js"></script>
	
	<script type="text/javascript" src="./js/config/Profile.js"></script>
	
	<script type="text/javascript" src="./js/api/ServerFacade.js"></script>
	
	<script type="text/javascript" src="./js/util/Util.js"></script>
	<script type="text/javascript" src="./js/util/BlockScrollUtil.js"></script>
	
	<script type="text/javascript" src="./js/views/DataSetForm.js"></script>
	<script type="text/javascript" src="./js/views/Inspector.js"></script>
	<script type="text/javascript" src="./js/views/MainMenu.js"></script>
	<script type="text/javascript" src="./js/views/SampleForm.js"></script>
	<script type="text/javascript" src="./js/views/SampleHierarchy.js"></script>
	<script type="text/javascript" src="./js/views/SampleTable.js"></script>
	
	<script type="text/javascript" src="./js/widgets/DataSetViewer.js"></script>
	<script type="text/javascript" src="./js/widgets/NavigationBar.js"></script>
	<script type="text/javascript" src="./js/widgets/SampleLinksTable.js"></script>
	<script type="text/javascript" src="./js/widgets/Storage.js"></script>
	
	<script type="text/javascript">
	//
	// Configurations Available (enable one)
	//
	//var profile = new ExampleProfile();
	var profile = new YeastLabProfile();
	

	//
	// Global variables
	//
	var mainController = new MainController(profile);
	
	//
	// Application Startup
	//
	$(document).ready(function() {
		
		$('#main').hide();
		var username = $("#username").value;
		if(username == null || username.length==0) {
			$("#username").focus();
		} else {
			$("#login-button").focus();
		}
	
		$('#login-form').submit(function() {
			Util.blockUI();
			mainController.serverFacade.login( $.trim($('#username').val()), $.trim($('#password').val()), 
				function(data) { mainController.enterApp(data) })
		});
		
		mainController.serverFacade.ifRestoredSessionActive(function(data) { mainController.enterApp(data) });
		
		// Make the ENTER key the default button
		$("login-form input").keypress(function (e) {
			if ((e.which && e.which == 13) || (e.keyCode && e.keyCode == 13)) {
				$('button[type=submit].default').click();
				return false;
			} else {
				return true;
			}
		});
	});
	</script>
</head>
<body class="bodyLogin">
	<div id="login-form-div" class="loginForm">
			<img class="loginLogo" src="./img/openBIS_Logo.png" alt="openBIS" />
			<h1>Lab Notebook</h1>
			
			<form id="login-form" action="javascript:">
				<fieldset>
						<div class='loginInputBox'>
							<input placeholder="Account" id="username" type="text" required="required">
						</div>
					
						<div class='loginInputBox'>
							<input placeholder="Password" id="password" type="password" required="required">
						</div>
					
						<button class="btn" id="login-button" type="submit"><i class="icon-arrow-right"></i></button>
				</fieldset>
			</form>
			
			<center>
				<div style="margin-bottom: 5px;">Compatible With:</div>
				<img src="./img/browser-icon-chrome.png" style="width: 43px; height:43px;" /><img src="./img/browser-icon-safari.png" style="width: 43px; height:43px;" /><img src="./img/browser-icon-firefox.png" style="width: 43px; height:43px;" /><img src="./img/browser-icon-ie10.png" style="width: 43px; height:43px;" /><img src="./img/browser-icon-tablet.png" style="height:43px;" />
			</center>
	</div>
	
	<div id="main">
		<div class="container-fluid">
			<div class="row-fluid">
				<div class="span12" id ="sectionsContainer"></div>
			</div>
			
			<div id="mainContainer">
		    	
			</div>
			
		</div>
	</div>
</body>
</html>
