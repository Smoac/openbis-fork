evaluationDependsOn(':common')
evaluationDependsOn(':openbis_api')
evaluationDependsOn(':openbis-common')
evaluationDependsOn(':authentication')
evaluationDependsOn(':dbmigration')
evaluationDependsOn(':openbis')
evaluationDependsOn(':datastore_server')

apply from: '../gradle/javaproject.gradle'

dependencies {
    compile project(':datastore_server'),
    		'openbis:openbis-mobile:+'
            
    testCompile project(path: ':datastore_server', configuration: 'tests')
}

sourceSets { 
    test {
        resources {
            srcDirs = ['source/java']
        }
    }
}

task plasmidZip(type: Zip) {
	baseName 'datastore_server_plugin-plasmid'
	from (jar.archivePath) {
		into 'datastore_server/lib'
	}
    from('source/core-plugins') {
		into 'core-plugins'
    }
	rename 'plasmid.*jar', 'datastore_server_plugin-plasmid.jar'

}
build.dependsOn plasmidZip
