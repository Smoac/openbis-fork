<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>Description of passwordEntryDialog</title>
    <meta name="keywords" content="passwordEntryDialog">
    <meta name="description" content="PASSWORDENTRYDIALOG">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
    <meta name="robots" content="index, follow">
    <link type="text/css" rel="stylesheet" href="../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../index.html">Home</a> &gt; <a href="index.html">api-openbis-matlab</a> &gt;
    passwordEntryDialog.m
</div>

<!--<table width="100%"><tr><td align="left"><a href="../index.html"><img alt="<" border="0" src="../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for matlab-openbis&nbsp;<img alt=">" border="0" src="../right.png"></a></td></tr></table>-->

<h1>passwordEntryDialog
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../up.png"></a></h2>
<div class="box"><strong>PASSWORDENTRYDIALOG</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../up.png"></a>
</h2>
<div class="box"><strong>function [Password, UserName] = passwordEntryDialog(varargin) </strong>
</div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../up.png"></a>
</h2>
<div class="fragment"><pre class="comment"> PASSWORDENTRYDIALOG
 [Password, UserName] = passwordEntryDialog(varargin)

 Create a password entry dialog for entering a password that is visibly
 hidden.  Java must be enabled for this function to work properly.

 It has only been tested on the Windows platform in R2008a.  It should
 work in R2007a or later.

 The password box is created using the Java Swing component
 JPasswordField.

 Optional Input Arguments
 ------------------------

 'enterUserName'       DEFAULT: false
 Display the user name entry box.  The user name entered must be at least
 one character or an error dialog is displayed.

 'DefaultUserName'     DEFAULT: ''
 String value of user name to populate in User Name box upon creation.

 'ValidatePassword'    DEFAULT: false
 Display dialog box to reenter password for validation purposes.

 'CheckPasswordLength' DEFAULT: true
 Check the password length to ensure it meets the specified criteria.

 'PasswordLengthMin'   DEFAULT: 2
 Minimum password length allowed.

 'PasswordLengthMax'   DEFAULT: 8
 Maximum password length allowed.

 'WindowName'          DEFAULT: 'Login'
 Title of the password entry window.

 Examples
 --------

 Create a password dialog box with the default options.
 -----------------------------------------------------------------------
 [Password] = passwordEntryDialog;

 Create a user name and password entry dialog box without password
 verification.
 -----------------------------------------------------------------------
 [Password, UserName] = passwordEntryDialog('enterUserName', true)

 Create a user name and password entry dialog box without password
 verification.  Set the user name to 'jdoe' upon startup.
 -----------------------------------------------------------------------
 [Password, UserName] = passwordEntryDialog('enterUserName', true,...
      'DefaultUserName', 'jdoe')

 Create a password dialog box with password validation
 -----------------------------------------------------------------------
 [Password] = passwordEntryDialog('ValidatePassword', true);

 Create a user name and password entry dialog box with password
 verification.
 -----------------------------------------------------------------------
 [Password, UserName] = passwordEntryDialog('enterUserName', true,...
      'ValidatePassword', true)

 Check the length of the password to be between 5 and 8 characters
 -----------------------------------------------------------------------
 [Password, UserName] = passwordEntryDialog('CheckPasswordLength', true,...
      'PasswordLengthMin', 5,...
      'PasswordLengthMax', 8)

 -----------------------------------------------------------------------
 Copyright (C) 2007-2008, Jesse B. Lai

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Lesser General Public License as published
 by the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Lesser General Public License for more details.

 You should have received a copy of the GNU Lesser General Public License
 along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;</pre>
</div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0"
                                                                          src="../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0"
                                                                  src="../up.png"></a></h2>
<ul style="list-style-image:url(../matlabicon.gif)">
    <li><a href="#_sub1" class="code">function pushbutton_KeyPressFcn(hObject, eventdata, handles,
        ProgramOptions)</a></li>
    <li><a href="#_sub2" class="code">function pushbutton_OK_Callback(hObject, eventdata, handles,
        ProgramOptions)</a></li>
    <li><a href="#_sub3" class="code">function pushbutton_Cancel_Callback(hObject, eventdata,
        handles, ProgramOptions)</a></li>
</ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../up.png"></a>
</h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function [Password, UserName] = passwordEntryDialog(varargin)</a>
0002 <span class="comment">% PASSWORDENTRYDIALOG</span>
0003 <span class="comment">% [Password, UserName] = passwordEntryDialog(varargin)</span>
0004 <span class="comment">%</span>
0005 <span class="comment">% Create a password entry dialog for entering a password that is visibly</span>
0006 <span class="comment">% hidden.  Java must be enabled for this function to work properly.</span>
0007 <span class="comment">%</span>
0008 <span class="comment">% It has only been tested on the Windows platform in R2008a.  It should</span>
0009 <span class="comment">% work in R2007a or later.</span>
0010 <span class="comment">%</span>
0011 <span class="comment">% The password box is created using the Java Swing component</span>
0012 <span class="comment">% JPasswordField.</span>
0013 <span class="comment">%</span>
0014 <span class="comment">% Optional Input Arguments</span>
0015 <span class="comment">% ------------------------</span>
0016 <span class="comment">%</span>
0017 <span class="comment">% 'enterUserName'       DEFAULT: false</span>
0018 <span class="comment">% Display the user name entry box.  The user name entered must be at least</span>
0019 <span class="comment">% one character or an error dialog is displayed.</span>
0020 <span class="comment">%</span>
0021 <span class="comment">% 'DefaultUserName'     DEFAULT: ''</span>
0022 <span class="comment">% String value of user name to populate in User Name box upon creation.</span>
0023 <span class="comment">%</span>
0024 <span class="comment">% 'ValidatePassword'    DEFAULT: false</span>
0025 <span class="comment">% Display dialog box to reenter password for validation purposes.</span>
0026 <span class="comment">%</span>
0027 <span class="comment">% 'CheckPasswordLength' DEFAULT: true</span>
0028 <span class="comment">% Check the password length to ensure it meets the specified criteria.</span>
0029 <span class="comment">%</span>
0030 <span class="comment">% 'PasswordLengthMin'   DEFAULT: 2</span>
0031 <span class="comment">% Minimum password length allowed.</span>
0032 <span class="comment">%</span>
0033 <span class="comment">% 'PasswordLengthMax'   DEFAULT: 8</span>
0034 <span class="comment">% Maximum password length allowed.</span>
0035 <span class="comment">%</span>
0036 <span class="comment">% 'WindowName'          DEFAULT: 'Login'</span>
0037 <span class="comment">% Title of the password entry window.</span>
0038 <span class="comment">%</span>
0039 <span class="comment">% Examples</span>
0040 <span class="comment">% --------</span>
0041 <span class="comment">%</span>
0042 <span class="comment">% Create a password dialog box with the default options.</span>
0043 <span class="comment">% -----------------------------------------------------------------------</span>
0044 <span class="comment">% [Password] = passwordEntryDialog;</span>
0045 <span class="comment">%</span>
0046 <span class="comment">% Create a user name and password entry dialog box without password</span>
0047 <span class="comment">% verification.</span>
0048 <span class="comment">% -----------------------------------------------------------------------</span>
0049 <span class="comment">% [Password, UserName] = passwordEntryDialog('enterUserName', true)</span>
0050 <span class="comment">%</span>
0051 <span class="comment">% Create a user name and password entry dialog box without password</span>
0052 <span class="comment">% verification.  Set the user name to 'jdoe' upon startup.</span>
0053 <span class="comment">% -----------------------------------------------------------------------</span>
0054 <span class="comment">% [Password, UserName] = passwordEntryDialog('enterUserName', true,...</span>
0055 <span class="comment">%      'DefaultUserName', 'jdoe')</span>
0056 <span class="comment">%</span>
0057 <span class="comment">% Create a password dialog box with password validation</span>
0058 <span class="comment">% -----------------------------------------------------------------------</span>
0059 <span class="comment">% [Password] = passwordEntryDialog('ValidatePassword', true);</span>
0060 <span class="comment">%</span>
0061 <span class="comment">% Create a user name and password entry dialog box with password</span>
0062 <span class="comment">% verification.</span>
0063 <span class="comment">% -----------------------------------------------------------------------</span>
0064 <span class="comment">% [Password, UserName] = passwordEntryDialog('enterUserName', true,...</span>
0065 <span class="comment">%      'ValidatePassword', true)</span>
0066 <span class="comment">%</span>
0067 <span class="comment">% Check the length of the password to be between 5 and 8 characters</span>
0068 <span class="comment">% -----------------------------------------------------------------------</span>
0069 <span class="comment">% [Password, UserName] = passwordEntryDialog('CheckPasswordLength', true,...</span>
0070 <span class="comment">%      'PasswordLengthMin', 5,...</span>
0071 <span class="comment">%      'PasswordLengthMax', 8)</span>
0072 <span class="comment">%</span>
0073 <span class="comment">% -----------------------------------------------------------------------</span>
0074 <span class="comment">% Copyright (C) 2007-2008, Jesse B. Lai</span>
0075 <span class="comment">%</span>
0076 <span class="comment">% This program is free software: you can redistribute it and/or modify</span>
0077 <span class="comment">% it under the terms of the GNU Lesser General Public License as published</span>
0078 <span class="comment">% by the Free Software Foundation, either version 3 of the License, or</span>
0079 <span class="comment">% (at your option) any later version.</span>
0080 <span class="comment">%</span>
0081 <span class="comment">% This program is distributed in the hope that it will be useful,</span>
0082 <span class="comment">% but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
0083 <span class="comment">% MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
0084 <span class="comment">% GNU Lesser General Public License for more details.</span>
0085 <span class="comment">%</span>
0086 <span class="comment">% You should have received a copy of the GNU Lesser General Public License</span>
0087 <span class="comment">% along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;</span>
0088 
0089 <span class="comment">%% History</span>
0090 <span class="comment">% The history of this program is outlined in this section.</span>
0091 <span class="comment">%</span>
0092 <span class="comment">% 20080616 - JBL - 0.0.2</span>
0093 <span class="comment">% Started 20080612</span>
0094 <span class="comment">%</span>
0095 <span class="comment">% Updated to remove requirement for uicomponent function written by Yair</span>
0096 <span class="comment">% Altman.  Now, the Java components are created manually and the</span>
0097 <span class="comment">% undocumented feature javacomponent is used.</span>
0098 <span class="comment">%</span>
0099 <span class="comment">% A focus issue was worked out by using the drawnow command in a couple of</span>
0100 <span class="comment">% places to allow the objects to be focused properly upon startup.</span>
0101 <span class="comment">%</span>
0102 <span class="comment">% 20080427 - JBL - 0.0.1</span>
0103 <span class="comment">% Started 20080425.</span>
0104 <span class="comment">%</span>
0105 <span class="comment">% Initial version.  Uses Java to create the password entry box.  An edit</span>
0106 <span class="comment">% box was initially attemped with the Java frame, but was occasionally</span>
0107 <span class="comment">% getting Java exceptions when trying to query the 'SelectionStart' and</span>
0108 <span class="comment">% 'SelectionEnd' properties.</span>
0109 <span class="comment">%</span>
0110 <span class="comment">% Basic options of entering user name and password with options for</span>
0111 <span class="comment">% password validation.</span>
0112 <span class="comment">%</span>
0113 <span class="comment">% ToDo: Maybe add valid string input argument to only allow certain</span>
0114 <span class="comment">% characters.</span>
0115 
0116 <span class="comment">%% Program Information</span>
0117 
0118 <span class="comment">% ProgramName = 'passwordEntryDialog';</span>
0119 <span class="comment">% ProgramVersion = '0.0.2';</span>
0120 <span class="comment">% svnRevision = '$Revision: 184 $';</span>
0121 <span class="comment">% svnRevision = getSVNRevision(svnRevision);</span>
0122 <span class="comment">% ProgramVersion = [ProgramVersion, '.' ,svnRevision];</span>
0123 <span class="comment">%</span>
0124 <span class="comment">% LastChangedDate = '$LastChangedDate: 2008-06-16 09:08:17 -0600 (Mon, 16 Jun 2008) $';</span>
0125 <span class="comment">% ProgramDate = getSVNDate(LastChangedDate);</span>
0126 
0127 <span class="comment">%% Check for Existance of Java</span>
0128 <span class="keyword">if</span> ~usejava(<span class="string">'swing'</span>)
0129    error(<span
            class="string">'passwordEntryDialog: Java is required for this program to run.'</span>);
0130 <span class="keyword">end</span>
0131 
0132 <span class="comment">%% Parse Input Arguments</span>
0133 <span class="comment">% Input arguments are parsed with the MATLAB inputParser class.</span>
0134 
0135 <span class="comment">% Create input parser object</span>
0136 ProgramOptionsParser = inputParser;
0137 ProgramOptionsParser.KeepUnmatched = true;
0138 
0139 ProgramOptionsParser.addParamValue(<span class="string">'enterUserName'</span>, false, @(x) islogical(x) || isnumeric(x));
0140 ProgramOptionsParser.addParamValue(<span class="string">'DefaultUserName'</span>, <span
            class="string">''</span>, @ischar);
0141 ProgramOptionsParser.addParamValue(<span class="string">'ValidatePassword'</span>, false, @(x) islogical(x) || isnumeric(x));
0142 ProgramOptionsParser.addParamValue(<span class="string">'CheckPasswordLength'</span>, true, @(x) islogical(x) || isnumeric(x));
0143 ProgramOptionsParser.addParamValue(<span class="string">'PasswordLengthMin'</span>, 2, @isnumeric);
0144 ProgramOptionsParser.addParamValue(<span class="string">'PasswordLengthMax'</span>, 8, @isnumeric);
0145 ProgramOptionsParser.addParamValue(<span class="string">'WindowName'</span>, <span
            class="string">'Login'</span>, @ischar);
0146 
0147 <span class="comment">% Parse Input Arguments</span>
0148 <span class="keyword">try</span>
0149     ProgramOptionsParser.parse(varargin{:});
0150 <span class="keyword">catch</span> Error
0151     ProgramOptionsParser.parse;
0152     <span class="keyword">if</span> strcmpi(Error.identifier, <span class="string">'MATLAB:InputParser:ArgumentFailedValidation'</span>)
0153         error(Error.identifier, Error.message);
0154     <span class="keyword">end</span>;
0155 <span class="keyword">end</span>;
0156 
0157 ProgramOptions = ProgramOptionsParser.Results;
0158 
0159 <span class="comment">% Validate password length options</span>
0160 <span class="keyword">if</span> ProgramOptions.CheckPasswordLength
0161     <span class="keyword">if</span> ProgramOptions.PasswordLengthMax &lt; ProgramOptions.PasswordLengthMin
0162         error(<span class="string">'MATLAB:InputParser:ArgumentFailedValidation'</span>, <span
            class="string">'PasswordLengthMax must be greater than PasswordLengthMin'</span>);
0163     <span class="keyword">end</span>;
0164 <span class="keyword">end</span>;
0165 
0166 <span class="comment">%% Determine GUI Size and Position</span>
0167 <span class="comment">% Center the GUI on the screen.</span>
0168 
0169 set(0,<span class="string">'Units'</span>,<span class="string">'pixels'</span>)
0170 Screen = get(0,<span class="string">'screensize'</span>);
0171 
0172 PositionGUI = [0 0 300 50];
0173 <span class="keyword">if</span> ProgramOptions.enterUserName
0174     PositionGUI = PositionGUI + [0 0 0 50];
0175 <span class="keyword">end</span>;
0176 <span class="keyword">if</span> ProgramOptions.ValidatePassword
0177     PositionGUI = PositionGUI + [0 0 0 50];
0178     OffsetBottom = 43;
0179 <span class="keyword">else</span>
0180     OffsetBottom = 0;
0181 <span class="keyword">end</span>;
0182 
0183 PositionGUI = [Screen(3:4)/2-PositionGUI(3:4)/2 PositionGUI(3:4)];
0184 PositionLeft = 10;
0185 BoxWidth = 200;
0186 
0187 <span class="comment">%% Create the GUI</span>
0188 
0189 BackgroundColor = get(0,<span class="string">'DefaultUicontrolBackgroundcolor'</span>);
0190 handles.figure1 = figure(<span class="string">'Menubar'</span>,<span
            class="string">'none'</span>, <span class="keyword">...</span>
0191     <span class="string">'Units'</span>,<span class="string">'Pixels'</span>, <span
            class="keyword">...</span>
0192     <span class="string">'Resize'</span>,<span class="string">'off'</span>, <span
            class="keyword">...</span>
0193     <span class="string">'NumberTitle'</span>,<span class="string">'off'</span>, <span
            class="keyword">...</span>
0194     <span class="string">'Name'</span>,ProgramOptions.WindowName, <span
            class="keyword">...</span>
0195     <span class="string">'Position'</span>,PositionGUI, <span class="keyword">...</span>
0196     <span class="string">'Color'</span>, BackgroundColor, <span class="keyword">...</span>
0197     <span class="string">'WindowStyle'</span>,<span class="string">'modal'</span>);
0198 
0199 <span class="comment">% Create Password Validation Entry Box</span>
0200 <span class="keyword">if</span> ProgramOptions.ValidatePassword
0201     handles.java_PasswordValidate = javax.swing.JPasswordField();
0202     handles.java_PasswordValidate.setFocusable(true);
0203     [handles.java_PasswordValidate, handles.edit_PasswordValidate] = javacomponent(handles.java_PasswordValidate, [], handles.figure1);
0204 
0205     set(handles.edit_PasswordValidate, <span class="keyword">...</span>
0206         <span class="string">'Parent'</span>, handles.figure1, <span class="keyword">...</span>
0207         <span class="string">'Tag'</span>, <span class="string">'edit_PasswordValidate'</span>, <span
            class="keyword">...</span>
0208         <span class="string">'Units'</span>, <span class="string">'Pixels'</span>, <span
            class="keyword">...</span>
0209         <span class="string">'Position'</span>,[PositionLeft 10 BoxWidth 23]);
0210 
0211     handles.text_LabelPasswordValidate = uicontrol(<span class="string">'Parent'</span>,handles.figure1, <span
            class="keyword">...</span>
0212         <span class="string">'Tag'</span>, <span
            class="string">'text_LabelPassword'</span>, <span class="keyword">...</span>
0213         <span class="string">'Style'</span>,<span class="string">'Text'</span>, <span
            class="keyword">...</span>
0214         <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span
            class="keyword">...</span>
0215         <span class="string">'Position'</span>,[PositionLeft 33 BoxWidth 16], <span
            class="keyword">...</span>
0216         <span class="string">'FontSize'</span>,10, <span class="keyword">...</span>
0217         <span class="string">'String'</span>,<span
            class="string">'Reenter password:'</span>,<span class="keyword">...</span>
0218         <span class="string">'HorizontalAlignment'</span>, <span class="string">'Left'</span>);
0219 <span class="keyword">end</span>;
0220 
0221 <span class="comment">% Create Password Entry Box</span>
0222 handles.java_Password = javax.swing.JPasswordField();
0223 [handles.java_Password, handles.edit_Password] = javacomponent(handles.java_Password, [PositionLeft 10+OffsetBottom BoxWidth 23], handles.figure1);
0224 handles.java_Password.setFocusable(true);
0225 
0226 set(handles.edit_Password, <span class="keyword">...</span>
0227     <span class="string">'Parent'</span>, handles.figure1, <span class="keyword">...</span>
0228     <span class="string">'Tag'</span>, <span class="string">'edit_Password'</span>, <span
            class="keyword">...</span>
0229     <span class="string">'Units'</span>, <span class="string">'Pixels'</span>, <span
            class="keyword">...</span>
0230     <span class="string">'Position'</span>,[PositionLeft 10+OffsetBottom BoxWidth 23]);
0231 drawnow;    <span class="comment">% This drawnow is required to allow the focus to work</span>
0232    
0233 handles.text_LabelPassword = uicontrol(<span
            class="string">'Parent'</span>,handles.figure1, <span class="keyword">...</span>
0234     <span class="string">'Tag'</span>, <span class="string">'text_LabelPassword'</span>, <span
            class="keyword">...</span>
0235     <span class="string">'Style'</span>,<span class="string">'Text'</span>, <span
            class="keyword">...</span>
0236     <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span
            class="keyword">...</span>
0237     <span class="string">'Position'</span>,[PositionLeft 33+OffsetBottom BoxWidth 16], <span
            class="keyword">...</span>
0238     <span class="string">'FontSize'</span>,10, <span class="keyword">...</span>
0239     <span class="string">'String'</span>,<span class="string">'Key:'</span>,<span
            class="keyword">...</span>
0240     <span class="string">'HorizontalAlignment'</span>, <span class="string">'Left'</span>);
0241 
0242 <span class="comment">% Create OK Pushbutton</span>
0243 handles.pushbutton_OK = uicontrol(<span class="string">'Parent'</span>,handles.figure1, <span
            class="keyword">...</span>
0244     <span class="string">'Tag'</span>, <span class="string">'pushbutton_OK'</span>, <span
            class="keyword">...</span>
0245     <span class="string">'Style'</span>,<span class="string">'Pushbutton'</span>, <span
            class="keyword">...</span>
0246     <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span
            class="keyword">...</span>
0247     <span class="string">'Position'</span>,[PositionLeft+BoxWidth+5 10 30 23], <span
            class="keyword">...</span>
0248     <span class="string">'FontSize'</span>,10, <span class="keyword">...</span>
0249     <span class="string">'String'</span>,<span class="string">'OK'</span>,<span
            class="keyword">...</span>
0250     <span class="string">'HorizontalAlignment'</span>, <span class="string">'Center'</span>);
0251 
0252 <span class="comment">% Create Cancel Pushbutton</span>
0253 handles.pushbutton_Cancel = uicontrol(<span
            class="string">'Parent'</span>,handles.figure1, <span class="keyword">...</span>
0254     <span class="string">'Tag'</span>, <span class="string">'pushbutton_Cancel'</span>, <span
            class="keyword">...</span>
0255     <span class="string">'Style'</span>,<span class="string">'Pushbutton'</span>, <span
            class="keyword">...</span>
0256     <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span
            class="keyword">...</span>
0257     <span class="string">'Position'</span>,[PositionLeft+BoxWidth+30+7 10 50 23], <span
            class="keyword">...</span>
0258     <span class="string">'FontSize'</span>,10, <span class="keyword">...</span>
0259     <span class="string">'String'</span>,<span class="string">'Cancel'</span>,<span
            class="keyword">...</span>
0260     <span class="string">'HorizontalAlignment'</span>, <span class="string">'Center'</span>);
0261 
0262 <span class="comment">% Create User Name Edit Box</span>
0263 <span class="keyword">if</span> ProgramOptions.enterUserName
0264     handles.java_UserName = javax.swing.JTextField();
0265     handles.java_UserName.setFocusable(true);
0266     [handles.java_UserName, handles.edit_UserName] = javacomponent(handles.java_UserName, [], handles.figure1);
0267 
0268     set(handles.edit_UserName, <span class="keyword">...</span>
0269         <span class="string">'Parent'</span>, handles.figure1, <span class="keyword">...</span>
0270         <span class="string">'Tag'</span>, <span class="string">'edit_UserName'</span>, <span
            class="keyword">...</span>
0271         <span class="string">'Units'</span>, <span class="string">'Pixels'</span>, <span
            class="keyword">...</span>
0272         <span class="string">'Position'</span>,[PositionLeft 53+OffsetBottom 200 23]);
0273     set(handles.java_UserName, <span class="string">'Text'</span>, ProgramOptions.DefaultUserName);
0274     drawnow;    <span
            class="comment">% This drawnow is required to allow the focus to work</span>
0275 
0276     handles.text_LabelUserName = uicontrol(<span class="string">'Parent'</span>,handles.figure1, <span
            class="keyword">...</span>
0277         <span class="string">'Tag'</span>, <span
            class="string">'text_LabelUserName'</span>, <span class="keyword">...</span>
0278         <span class="string">'Style'</span>,<span class="string">'Text'</span>, <span
            class="keyword">...</span>
0279         <span class="string">'Units'</span>,<span class="string">'Pixels'</span>,<span
            class="keyword">...</span>
0280         <span class="string">'Position'</span>,[PositionLeft 76+OffsetBottom 200 16], <span
            class="keyword">...</span>
0281         <span class="string">'FontSize'</span>,10, <span class="keyword">...</span>
0282         <span class="string">'String'</span>,<span class="string">'User name:'</span>,<span
            class="keyword">...</span>
0283         <span class="string">'HorizontalAlignment'</span>, <span class="string">'Left'</span>);
0284 
0285     <span class="comment">%uicontrol(handles.edit_UserName);</span>
0286     <span class="comment">%set(handles.figure1,'CurrentObject',handles.java_UserName)</span>
0287     handles.java_UserName.requestFocus;     <span class="comment">% Get focus</span>
0288     drawnow;
0289 <span class="keyword">else</span>
0290     handles.java_Password.requestFocus;     <span class="comment">% Get focus</span>
0291     drawnow;
0292 <span class="keyword">end</span>;
0293 
0294 <span class="comment">%% Setup Callbacks for Objects</span>
0295 <span class="comment">% Adds the callback functions for the objects in the GUI</span>
0296 
0297 set(handles.pushbutton_OK,     <span class="string">'Callback'</span>, {@<a href="#_sub2"
                                                                                 class="code"
                                                                                 title="subfunction pushbutton_OK_Callback(hObject, eventdata, handles, ProgramOptions)">pushbutton_OK_Callback</a>, handles, ProgramOptions}, <span
            class="string">'KeyPressFcn'</span>, {@<a href="#_sub1" class="code"
                                                      title="subfunction pushbutton_KeyPressFcn(hObject, eventdata, handles, ProgramOptions)">pushbutton_KeyPressFcn</a>, handles, ProgramOptions});
0298 set(handles.pushbutton_Cancel, <span class="string">'Callback'</span>, {@<a href="#_sub3"
                                                                                 class="code"
                                                                                 title="subfunction pushbutton_Cancel_Callback(hObject, eventdata, handles, ProgramOptions)">pushbutton_Cancel_Callback</a>, handles, ProgramOptions}, <span
            class="string">'KeyPressFcn'</span>, {@<a href="#_sub1" class="code"
                                                      title="subfunction pushbutton_KeyPressFcn(hObject, eventdata, handles, ProgramOptions)">pushbutton_KeyPressFcn</a>, handles, ProgramOptions});
0299 set(handles.java_Password, <span class="string">'ActionPerformedCallback'</span>, {@<a
            href="#_sub2" class="code"
            title="subfunction pushbutton_OK_Callback(hObject, eventdata, handles, ProgramOptions)">pushbutton_OK_Callback</a>, handles, ProgramOptions});
0300 
0301 <span class="keyword">if</span> ProgramOptions.ValidatePassword
0302     <span class="keyword">if</span> ProgramOptions.enterUserName
0303         ObjectNext = handles.java_UserName;
0304     <span class="keyword">else</span>
0305         ObjectNext = handles.java_Password;
0306     <span class="keyword">end</span>;
0307     set(handles.java_PasswordValidate, <span class="string">'ActionPerformedCallback'</span>, {@<a
            href="#_sub2" class="code"
            title="subfunction pushbutton_OK_Callback(hObject, eventdata, handles, ProgramOptions)">pushbutton_OK_Callback</a>, handles, ProgramOptions}, <span
            class="string">'NextFocusableComponent'</span>, ObjectNext);
0308     set(handles.java_Password, <span class="string">'NextFocusableComponent'</span>, handles.java_PasswordValidate);
0309 <span class="keyword">elseif</span> ProgramOptions.enterUserName
0310     set(handles.java_Password, <span class="string">'NextFocusableComponent'</span>, handles.java_UserName);
0311 <span class="keyword">end</span>;
0312 
0313 <span class="keyword">if</span> ProgramOptions.enterUserName
0314     set(handles.java_UserName, <span class="string">'ActionPerformedCallback'</span>, {@<a
            href="#_sub2" class="code"
            title="subfunction pushbutton_OK_Callback(hObject, eventdata, handles, ProgramOptions)">pushbutton_OK_Callback</a>, handles, ProgramOptions}, <span
            class="string">'NextFocusableComponent'</span>, handles.java_Password);
0315 <span class="keyword">end</span>;
0316 
0317 setappdata(handles.figure1, <span class="string">'isCanceled'</span>, false);
0318 
0319 <span class="comment">%% Wait for Completion</span>
0320 
0321 <span class="comment">% Wait for the user to complete entry.</span>
0322 drawnow;
0323 uiwait(handles.figure1);
0324 
0325 <span class="comment">%% Get current information</span>
0326 <span class="comment">% User either closed the window or pressed cancel or OK.</span>
0327 
0328 isCanceled = ~ishandle(handles.figure1) || getappdata(handles.figure1, <span class="string">'isCanceled'</span>);
0329 <span class="keyword">if</span> isCanceled
0330     <span class="keyword">if</span> ishandle(handles.figure1)
0331         delete(handles.figure1);
0332     <span class="keyword">end</span>;
0333     Password = -1;
0334     UserName = <span class="string">''</span>;
0335     <span class="keyword">return</span>;
0336 <span class="keyword">end</span>;
0337 
0338 Password = handles.java_Password.Password';
0339 <span class="keyword">if</span> ProgramOptions.enterUserName
0340     UserName = strtrim(get(handles.java_UserName, <span class="string">'Text'</span>));
0341 <span class="keyword">else</span>
0342     UserName = <span class="string">''</span>;
0343 <span class="keyword">end</span>;
0344 delete(handles.figure1);
0345 
0346 <span class="comment">%% DEFINE FUNCTIONS</span>
0347 <span class="comment">% The subfunctions required by this program are in the following section.</span>
0348 
0349 <a name="_sub1" href="#_subfunctions" class="code">function pushbutton_KeyPressFcn(hObject, eventdata, handles, ProgramOptions)</a>
0350 
0351 <span class="keyword">switch</span> eventdata.Key
0352     <span class="keyword">case</span> <span class="string">'return'</span>
0353         Callback = get(hObject, <span class="string">'Callback'</span>);
0354         feval(Callback{1}, hObject, <span class="string">''</span>, Callback{2:end});
0355 <span class="keyword">end</span>;
0356 
0357 <a name="_sub2" href="#_subfunctions" class="code">function pushbutton_OK_Callback(hObject, eventdata, handles, ProgramOptions)</a>
0358 <span class="keyword">if</span> ProgramOptions.enterUserName
0359     <span class="comment">% Check if username is blank</span>
0360     UserName = strtrim(get(handles.java_UserName, <span class="string">'Text'</span>));
0361     <span class="keyword">if</span> isempty(UserName)
0362         strMessage = <span class="string">'Username is blank'</span>;
0363         <span class="comment">%disp(strMessage)</span>
0364         hError = errordlg(strMessage, <span class="string">'passwordEntryDialog'</span>);
0365         uiwait(hError);
0366         <span class="keyword">return</span>;
0367     <span class="keyword">end</span>;
0368 <span class="keyword">end</span>;
0369 
0370 <span class="keyword">if</span> ProgramOptions.CheckPasswordLength
0371     <span class="comment">%Password = handles.edit_Password.Password';</span>
0372     Password = handles.java_Password.Password';
0373     <span class="keyword">if</span> length(Password) &lt; ProgramOptions.PasswordLengthMin || length(Password) &gt; ProgramOptions.PasswordLengthMax
0374         strMessage = sprintf(<span class="string">'Password must be between %d and %d characters'</span>, <span
            class="keyword">...</span>
0375             ProgramOptions.PasswordLengthMin, <span class="keyword">...</span>
0376             ProgramOptions.PasswordLengthMax);
0377         <span class="comment">%disp(strMessage);</span>
0378         hError = errordlg(strMessage, <span class="string">'passwordEntryDialog'</span>);
0379         uiwait(hError);
0380         <span class="keyword">if</span> ProgramOptions.ValidatePassword
0381             set(handles.java_PasswordValidate,<span class="string">'Text'</span>, <span
            class="string">''</span>);
0382         <span class="keyword">end</span>;
0383         handles.java_Password.requestFocus
0384         <span class="keyword">return</span>;
0385     <span class="keyword">end</span>;
0386 <span class="keyword">end</span>;
0387 
0388 <span class="keyword">if</span> ProgramOptions.ValidatePassword
0389     <span class="comment">% Check if passwords match</span>
0390     <span class="keyword">if</span> ~isequal(handles.java_Password.Password, handles.java_PasswordValidate.Password)
0391         strMessage = <span class="string">'Passwords do not match.  Please try again'</span>;
0392         <span class="comment">%disp(strMessage);</span>
0393         hError=errordlg(strMessage, <span class="string">'passwordEntryDialog'</span>,<span
            class="string">'modal'</span>);
0394         uiwait(hError);
0395         set(handles.java_Password,<span class="string">'Text'</span>, <span
            class="string">''</span>);
0396         set(handles.java_PasswordValidate,<span class="string">'Text'</span>, <span
            class="string">''</span>);
0397 
0398         handles.java_Password.requestFocus
0399         <span class="keyword">return</span>;
0400     <span class="keyword">end</span>;
0401 <span class="keyword">end</span>;
0402 uiresume(handles.figure1);
0403 
0404 <a name="_sub3" href="#_subfunctions" class="code">function pushbutton_Cancel_Callback(hObject, eventdata, handles, ProgramOptions)</a>
0405 setappdata(handles.figure1, <span class="string">'isCanceled'</span>, true);
0406 uiresume(handles.figure1);</pre>
</div>
<hr>
<address>Generated on Tue 06-Jul-2021 16:01:18 by <strong><a
        href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong>
    &copy; 2005
</address>
</body>
</html>