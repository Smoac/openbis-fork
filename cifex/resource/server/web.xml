<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app [
    <!ENTITY common SYSTEM "web-common.xml">
]>
<web-app>

    <display-name>CISD File EXchanger</display-name>
    <description>Allows users to exchange large files using a standard web browser.</description>
    
    &common;

    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath:applicationContext.xml</param-value>
        <description>File for Spring beans.</description>
    </context-param>

    <context-param>
        <param-name>infoClass</param-name>
        <param-value>ch.systemsx.cisd.cifex.BuildAndEnvironmentInfo</param-value>
    </context-param>
    
    <!--
        // Session holder
    -->

    <listener>
        <listener-class>ch.systemsx.cisd.cifex.server.UserHttpSessionListener</listener-class>
    </listener>

    <!-- Trying kind of extension (i.e., '*.do') here as 'url-pattern' does not work. -->
    <servlet-mapping>
        <servlet-name>spring</servlet-name>
        <url-pattern>/cifex/*</url-pattern>
    </servlet-mapping>

    <!--
        // Additional servlets
    -->

    <servlet>
        <servlet-name>dummy</servlet-name>
        <servlet-class>ch.systemsx.cisd.cifex.server.DummyServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>file-download</servlet-name>
        <servlet-class>ch.systemsx.cisd.cifex.server.FileDownloadServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>file-upload</servlet-name>
        <servlet-class>ch.systemsx.cisd.cifex.server.FileUploadServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
</web-app>
