007	source/sql/postgresql/007/schema-007.sql	SUCCESS	2007-12-04 15:50:54.064	-- D:\\\\DDL\\\\postgresql\\\\schema-007.sql\\012--\\012-- Generated for ANSI SQL92 on Thu Aug 23  19:02:15 2007 by Server Generator 10.1.2.6.18\\012-- Post generation PostgreSQL specific Changes:\\012-- \\012--  1. change domain FILE from BIT(32000) to BYTEA\\012--  2. change domain TECH_ID from NUMERIC(20) to BIGINT\\012--  3. Put single quotes around the default value NOW in the create domain statement for the domain TIME_STAMP\\012--     i.e. change CREATE DOMAIN TIME_STAMP AS TIMESTAMP DEFAULT now; to CREATE DOMAIN TIME_STAMP AS TIMESTAMP DEFAULT 'now';\\012--  4. Temporarily not created, due to data quality issues with the master plate layout data\\012--\\012-- ALTER TABLE MOLECULES ADD CONSTRAINT MOLE_BK_UK UNIQUE(SEQUENCE);\\012\\012\\012\\012CREATE DOMAIN DESCRIPTION_80 AS VARCHAR(80);\\012CREATE DOMAIN USER_ID AS VARCHAR(20);\\012CREATE DOMAIN DOUBLE_PRECISION_VALUE AS DOUBLE PRECISION;\\012CREATE DOMAIN FILE_NAME AS VARCHAR(100);\\012CREATE DOMAIN TECH_ID AS BIGINT;\\012CREATE DOMAIN OBJECT_NAME AS VARCHAR(50);\\012CREATE DOMAIN TIME_STAMP AS TIMESTAMP DEFAULT CURRENT_TIMESTAMP;\\012CREATE DOMAIN REAL_VALUE AS REAL;\\012CREATE DOMAIN FILE AS BYTEA;\\012CREATE DOMAIN CODE AS VARCHAR(20);\\012CREATE DOMAIN DESCRIPTION_250 AS VARCHAR(250);\\012CREATE TABLE EXPERIMENT_PROPERTIES  (ID TECH_ID NOT NULL,EXPE_ID TECH_ID NOT NULL,FILE_NAME FILE_NAME NOT NULL,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,VALUE FILE NOT NULL,VERSION INTEGER NOT NULL,PERS_ID_REGISTERER TECH_ID NOT NULL) ;\\012CREATE TABLE EXPERIMENT_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE DATA_VALUES  (ID TECH_ID NOT NULL,DATA_ID TECH_ID NOT NULL,SACO_ID TECH_ID NOT NULL,VALUE DOUBLE_PRECISION_VALUE NOT NULL) ;\\012CREATE TABLE PERSONS  (ID TECH_ID NOT NULL,FIRST_NAME VARCHAR(30),LAST_NAME VARCHAR(30),USER_ID USER_ID,EMAIL OBJECT_NAME) ;\\012CREATE TABLE FILE_FORMAT_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE SAMPLE_INPUTS  (ID TECH_ID NOT NULL,SAMP_ID TECH_ID NOT NULL,PROC_ID TECH_ID NOT NULL) ;\\012CREATE TABLE OBSERVABLE_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE LOCATOR_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE SAMPLE_COMPONENTS  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,SAMP_ID TECH_ID NOT NULL) ;\\012CREATE TABLE SAMPLE_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE ORGANIZATIONS  (ID TECH_ID NOT NULL,CODE CODE NOT NULL) ;\\012CREATE TABLE PROCEDURES  (ID TECH_ID NOT NULL,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,EXPE_ID TECH_ID NOT NULL,PCTY_ID TECH_ID NOT NULL,PERS_ID TECH_ID) ;\\012CREATE TABLE PROCEDURE_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80 NOT NULL) ;\\012CREATE TABLE PROJECTS  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,ORGA_ID TECH_ID NOT NULL) ;\\012CREATE TABLE SAMPLE_COMPONENT_MATERIALS  (ID TECH_ID NOT NULL,SACO_ID TECH_ID NOT NULL,MABA_ID TECH_ID NOT NULL) ;\\012CREATE TABLE EXTERNAL_DATA  (DATA_ID TECH_ID NOT NULL,LOCATION VARCHAR(200) NOT NULL,LOTY_ID TECH_ID NOT NULL,FFTY_ID TECH_ID NOT NULL) ;\\012CREATE TABLE DATA  (ID TECH_ID NOT NULL,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,OBTY_ID TECH_ID NOT NULL,PROC_ID_ACQUIRED_BY TECH_ID NOT NULL,SAMP_ID_ACQUIRED_FROM TECH_ID,SAMP_ID_DERIVED_FROM TECH_ID) ;\\012CREATE TABLE SAMPLES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,CONT_ID TECH_ID,PROC_ID TECH_ID,SAMP_ID_TOP TECH_ID,SAMP_ID_GENERATED_FROM TECH_ID,SATY_ID TECH_ID NOT NULL,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,PERS_ID_REGISTERER TECH_ID NOT NULL) ;\\012CREATE TABLE MATERIAL_TYPES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_80) ;\\012CREATE TABLE MATERIAL_BATCHES  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,AMOUNT REAL_VALUE,MATE_ID TECH_ID NOT NULL,CONT_ID TECH_ID,PROC_ID TECH_ID,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,PERS_ID_REGISTERER TECH_ID NOT NULL) ;\\012CREATE TABLE MATERIALS  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,DESCRIPTION DESCRIPTION_250,MATY_ID TECH_ID NOT NULL,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,PERS_ID_REGISTERER TECH_ID NOT NULL) ;\\012CREATE TABLE MOLECULES  (MATE_ID TECH_ID NOT NULL,SEQUENCE VARCHAR(100),ACCESSION_NUMBER OBJECT_NAME,OFF_SET VARCHAR(20),MOLE_ID_INHIBITOR_OF TECH_ID,GENE_SYMBOL CODE) ;\\012CREATE TABLE EXPERIMENTS  (ID TECH_ID NOT NULL,CODE CODE NOT NULL,EXTY_ID TECH_ID NOT NULL,MATE_ID_STUDY_OBJECT TECH_ID,PERS_ID_REGISTERER TECH_ID,REGISTRATION_TIMESTAMP TIME_STAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,DESCRIPTION DESCRIPTION_250,PROJ_ID TECH_ID NOT NULL) ;\\012\\012ALTER TABLE EXPERIMENT_PROPERTIES ADD CONSTRAINT EXPR_PK PRIMARY KEY(ID);\\012ALTER TABLE EXPERIMENT_TYPES ADD CONSTRAINT EXTY_PK PRIMARY KEY(ID);\\012ALTER TABLE DATA_VALUES ADD CONSTRAINT DAVA_PK PRIMARY KEY(ID);\\012ALTER TABLE PERSONS ADD CONSTRAINT PERS_PK PRIMARY KEY(ID);\\012ALTER TABLE FILE_FORMAT_TYPES ADD CONSTRAINT FFTY_PK PRIMARY KEY(ID);\\012ALTER TABLE SAMPLE_INPUTS ADD CONSTRAINT SAIN_PK PRIMARY KEY(ID);\\012ALTER TABLE OBSERVABLE_TYPES ADD CONSTRAINT OBTY_PK PRIMARY KEY(ID);\\012ALTER TABLE LOCATOR_TYPES ADD CONSTRAINT LOTY_PK PRIMARY KEY(ID);\\012ALTER TABLE SAMPLE_COMPONENTS ADD CONSTRAINT SACO_PK PRIMARY KEY(ID);\\012ALTER TABLE SAMPLE_TYPES ADD CONSTRAINT SATY_PK PRIMARY KEY(ID);\\012ALTER TABLE ORGANIZATIONS ADD CONSTRAINT ORGA_PK PRIMARY KEY(ID);\\012ALTER TABLE PROCEDURES ADD CONSTRAINT PROC_PK PRIMARY KEY(ID);\\012ALTER TABLE PROCEDURE_TYPES ADD CONSTRAINT PCTY_PK PRIMARY KEY(ID);\\012ALTER TABLE PROJECTS ADD CONSTRAINT PROJ_PK PRIMARY KEY(ID);\\012ALTER TABLE SAMPLE_COMPONENT_MATERIALS ADD CONSTRAINT SCMA_PK PRIMARY KEY(ID);\\012ALTER TABLE EXTERNAL_DATA ADD CONSTRAINT EXDA_PK PRIMARY KEY(DATA_ID);\\012ALTER TABLE DATA ADD CONSTRAINT DATA_PK PRIMARY KEY(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_PK PRIMARY KEY(ID);\\012ALTER TABLE MATERIAL_TYPES ADD CONSTRAINT MATY_PK PRIMARY KEY(ID);\\012ALTER TABLE MATERIAL_BATCHES ADD CONSTRAINT MABA_PK PRIMARY KEY(ID);\\012ALTER TABLE MATERIALS ADD CONSTRAINT MATE_PK PRIMARY KEY(ID);\\012ALTER TABLE MOLECULES ADD CONSTRAINT MOLE_PK PRIMARY KEY(MATE_ID);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_PK PRIMARY KEY(ID);\\012ALTER TABLE EXPERIMENT_PROPERTIES ADD CONSTRAINT EXPR_BK_UK UNIQUE(EXPE_ID,FILE_NAME,VERSION);\\012ALTER TABLE EXPERIMENT_TYPES ADD CONSTRAINT EXTY_BK_UK UNIQUE(CODE);\\012ALTER TABLE DATA_VALUES ADD CONSTRAINT DAVA_BK_UK UNIQUE(DATA_ID,SACO_ID);\\012ALTER TABLE PERSONS ADD CONSTRAINT PERS_BK_UK UNIQUE(USER_ID);\\012ALTER TABLE FILE_FORMAT_TYPES ADD CONSTRAINT FFTY_BK_UK UNIQUE(CODE);\\012ALTER TABLE SAMPLE_INPUTS ADD CONSTRAINT SAIN_BK_UK UNIQUE(SAMP_ID,PROC_ID);\\012ALTER TABLE OBSERVABLE_TYPES ADD CONSTRAINT OBTY_BK_UK UNIQUE(CODE);\\012ALTER TABLE LOCATOR_TYPES ADD CONSTRAINT LOTY_BK_UK UNIQUE(CODE);\\012ALTER TABLE SAMPLE_COMPONENTS ADD CONSTRAINT SACO_BK_UK UNIQUE(CODE,SAMP_ID);\\012ALTER TABLE SAMPLE_TYPES ADD CONSTRAINT SATY_BK_UK UNIQUE(CODE);\\012ALTER TABLE ORGANIZATIONS ADD CONSTRAINT ORGA_BK_UK UNIQUE(CODE);\\012ALTER TABLE PROCEDURE_TYPES ADD CONSTRAINT PCTY_BK_UK UNIQUE(CODE);\\012ALTER TABLE PROJECTS ADD CONSTRAINT PROJ_BK_UK UNIQUE(CODE,ORGA_ID);\\012ALTER TABLE SAMPLE_COMPONENT_MATERIALS ADD CONSTRAINT SCMA_BK_UK UNIQUE(MABA_ID,SACO_ID);\\012ALTER TABLE EXTERNAL_DATA ADD CONSTRAINT EXDA_BK_UK UNIQUE(LOCATION);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_BK_UK UNIQUE(CODE);\\012ALTER TABLE MATERIAL_TYPES ADD CONSTRAINT MATY_UK UNIQUE(CODE);\\012ALTER TABLE MATERIAL_TYPES ADD CONSTRAINT MATY_BK_UK UNIQUE(CODE);\\012ALTER TABLE MATERIALS ADD CONSTRAINT MATE_BK_UK UNIQUE(CODE);\\012--\\012--  Temporarily not created, due to data quality issues with the master plate layout data\\012--\\012-- ALTER TABLE MOLECULES ADD CONSTRAINT MOLE_BK_UK UNIQUE(SEQUENCE);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_BK_UK UNIQUE(CODE,PROJ_ID);\\012\\012ALTER TABLE DATA ADD CONSTRAINT DATA_SAMP_ARC_CK CHECK ((samp_id_acquired_from IS NOT NULL \\012and samp_id_derived_from IS NULL) \\012or (samp_id_acquired_from IS NULL \\012and samp_id_derived_from IS NOT NULL)) ;\\012ALTER TABLE EXPERIMENT_PROPERTIES ADD CONSTRAINT EXPR_PERS_FK FOREIGN KEY (PERS_ID_REGISTERER)REFERENCES PERSONS(ID);\\012ALTER TABLE EXPERIMENT_PROPERTIES ADD CONSTRAINT EXPR_EXPE_FK FOREIGN KEY (EXPE_ID)REFERENCES EXPERIMENTS(ID);\\012ALTER TABLE DATA_VALUES ADD CONSTRAINT DAVA_DATA_FK FOREIGN KEY (DATA_ID)REFERENCES DATA(ID);\\012ALTER TABLE DATA_VALUES ADD CONSTRAINT DAVA_SACO_FK FOREIGN KEY (SACO_ID)REFERENCES SAMPLE_COMPONENTS(ID);\\012ALTER TABLE SAMPLE_INPUTS ADD CONSTRAINT SAIN_PROC_FK FOREIGN KEY (PROC_ID)REFERENCES PROCEDURES(ID);\\012ALTER TABLE SAMPLE_INPUTS ADD CONSTRAINT SAIN_SAMP_FK FOREIGN KEY (SAMP_ID)REFERENCES SAMPLES(ID);\\012ALTER TABLE SAMPLE_COMPONENTS ADD CONSTRAINT SACO_SAMP_FK FOREIGN KEY (SAMP_ID)REFERENCES SAMPLES(ID);\\012ALTER TABLE PROCEDURES ADD CONSTRAINT PROC_PCTY_FK FOREIGN KEY (PCTY_ID)REFERENCES PROCEDURE_TYPES(ID);\\012ALTER TABLE PROCEDURES ADD CONSTRAINT PROC_PERS_FK FOREIGN KEY (PERS_ID)REFERENCES PERSONS(ID);\\012ALTER TABLE PROCEDURES ADD CONSTRAINT PROC_EXPE_FK FOREIGN KEY (EXPE_ID)REFERENCES EXPERIMENTS(ID);\\012ALTER TABLE PROJECTS ADD CONSTRAINT PROJ_ORGA_FK FOREIGN KEY (ORGA_ID)REFERENCES ORGANIZATIONS(ID);\\012ALTER TABLE SAMPLE_COMPONENT_MATERIALS ADD CONSTRAINT SCMA_MABA_FK FOREIGN KEY (MABA_ID)REFERENCES MATERIAL_BATCHES(ID);\\012ALTER TABLE SAMPLE_COMPONENT_MATERIALS ADD CONSTRAINT SCMA_SACO_FK FOREIGN KEY (SACO_ID)REFERENCES SAMPLE_COMPONENTS(ID);\\012ALTER TABLE EXTERNAL_DATA ADD CONSTRAINT EXDA_DATA_FK FOREIGN KEY (DATA_ID)REFERENCES DATA(ID);\\012ALTER TABLE EXTERNAL_DATA ADD CONSTRAINT EXDA_LOTY_FK FOREIGN KEY (LOTY_ID)REFERENCES LOCATOR_TYPES(ID);\\012ALTER TABLE EXTERNAL_DATA ADD CONSTRAINT EXDA_FFTY_FK FOREIGN KEY (FFTY_ID)REFERENCES FILE_FORMAT_TYPES(ID);\\012ALTER TABLE DATA ADD CONSTRAINT DATA_SAMP_DERIVED_FROM_FK FOREIGN KEY (SAMP_ID_DERIVED_FROM)REFERENCES SAMPLES(ID);\\012ALTER TABLE DATA ADD CONSTRAINT DATA_SAMP_FK FOREIGN KEY (SAMP_ID_ACQUIRED_FROM)REFERENCES SAMPLES(ID);\\012ALTER TABLE DATA ADD CONSTRAINT DATA_PROC_FK FOREIGN KEY (PROC_ID_ACQUIRED_BY)REFERENCES PROCEDURES(ID);\\012ALTER TABLE DATA ADD CONSTRAINT DATA_OBTY_FK FOREIGN KEY (OBTY_ID)REFERENCES OBSERVABLE_TYPES(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_PERS_FK FOREIGN KEY (PERS_ID_REGISTERER)REFERENCES PERSONS(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_PROC_FK FOREIGN KEY (PROC_ID)REFERENCES PROCEDURES(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_SAMP_FK_GENERATED_FROM FOREIGN KEY (SAMP_ID_GENERATED_FROM)REFERENCES SAMPLES(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_SAMP_FK_TOP FOREIGN KEY (SAMP_ID_TOP)REFERENCES SAMPLES(ID);\\012ALTER TABLE SAMPLES ADD CONSTRAINT SAMP_SATY_FK FOREIGN KEY (SATY_ID)REFERENCES SAMPLE_TYPES(ID);\\012ALTER TABLE MATERIAL_BATCHES ADD CONSTRAINT MABA_PERS_FK FOREIGN KEY (PERS_ID_REGISTERER)REFERENCES PERSONS(ID);\\012ALTER TABLE MATERIAL_BATCHES ADD CONSTRAINT MABA_MATE_FK FOREIGN KEY (MATE_ID)REFERENCES MATERIALS(ID);\\012ALTER TABLE MATERIAL_BATCHES ADD CONSTRAINT MABA_PROC_FK FOREIGN KEY (PROC_ID)REFERENCES PROCEDURES(ID);\\012ALTER TABLE MATERIALS ADD CONSTRAINT MATE_MATY_FK FOREIGN KEY (MATY_ID)REFERENCES MATERIAL_TYPES(ID);\\012ALTER TABLE MATERIALS ADD CONSTRAINT MATE_PERS_FK FOREIGN KEY (PERS_ID_REGISTERER)REFERENCES PERSONS(ID);\\012ALTER TABLE MOLECULES ADD CONSTRAINT MOLE_MATE_FK FOREIGN KEY (MATE_ID)REFERENCES MATERIALS(ID);\\012ALTER TABLE MOLECULES ADD CONSTRAINT MOLE_MOLE_FK FOREIGN KEY (MOLE_ID_INHIBITOR_OF)REFERENCES MOLECULES(MATE_ID);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_MATE_FK FOREIGN KEY (MATE_ID_STUDY_OBJECT)REFERENCES MATERIALS(ID);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_EXTY_FK FOREIGN KEY (EXTY_ID)REFERENCES EXPERIMENT_TYPES(ID);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_PERS_FK FOREIGN KEY (PERS_ID_REGISTERER)REFERENCES PERSONS(ID);\\012ALTER TABLE EXPERIMENTS ADD CONSTRAINT EXPE_PROJ_FK FOREIGN KEY (PROJ_ID)REFERENCES PROJECTS(ID);\\012\\012\\012\\012--  Creating Sequences\\012\\012CREATE SEQUENCE EXPERIMENT_PROPERTY_ID_SEQ;\\012\\012CREATE SEQUENCE PROCEDURE_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE SAMPLE_INPUT_ID_SEQ;\\012\\012CREATE SEQUENCE SAMPLE_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE LOCATOR_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE SAMPLE_ID_SEQ;\\012\\012CREATE SEQUENCE EXPERIMENT_ID_SEQ;\\012\\012CREATE SEQUENCE MATERIAL_BATCH_ID_SEQ;\\012\\012CREATE SEQUENCE OBSERVABLE_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE SAMPLE_COMPONENT_ID_SEQ;\\012\\012CREATE SEQUENCE MATERIAL_ID_SEQ;\\012\\012CREATE SEQUENCE DATA_ID_SEQ;\\012\\012--  Creating Sequence for the SAMPLE_COMPONENT_MATERIALS table (standard naming convention was too long)\\012CREATE SEQUENCE SCMA_ID_SEQ;\\012\\012CREATE SEQUENCE PROCEDURE_ID_SEQ;\\012\\012CREATE SEQUENCE FILE_FORMAT_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE MATERIAL_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE EXPERIMENT_TYPE_ID_SEQ;\\012\\012CREATE SEQUENCE PERSON_ID_SEQ;\\012\\012CREATE SEQUENCE ORGANIZATION_ID_SEQ;\\012\\012CREATE SEQUENCE PROJECT_ID_SEQ;\\012\\012CREATE SEQUENCE DATA_VALUE_ID_SEQ;\\012\\012\\012\\012/*\\012   Trigger Section\\012   ===============*/\\012\\012CREATE OR REPLACE FUNCTION br001_crtl_plate_chk() RETURNS trigger AS $br001_crtl_plate_chk$\\012DECLARE\\012   cnt           INTEGER;\\012   v_cell_plate  CODE;\\012BEGIN\\012\\012   select code into v_cell_plate from sample_types where id  = NEW.saty_id;\\012\\012   -- Check if the sample is of type "Cell Plate"\\012   if v_cell_plate = 'CELL PLATE' then\\012\\012      -- Check that a Control Plate exists before registering the Cell Plate\\012      select count(*) into cnt from samples s, sample_types st where s.saty_id = st.id and st.code = 'CONTROL LAYOUT';\\011 \\012      IF cnt = 0 THEN\\012\\011\\011 -- Doens't make sense, so comment it out\\012         -- RAISE EXCEPTION 'A Control Plate must exist before you can register Cell Plate: %', NEW.code;\\012      END IF;\\012\\012   end if;\\012\\012   RETURN NEW;\\012\\012END;\\012$br001_crtl_plate_chk$ LANGUAGE plpgsql;\\012\\012\\012CREATE TRIGGER br001_crtl_plate_chk BEFORE INSERT ON samples\\012    FOR EACH ROW EXECUTE PROCEDURE br001_crtl_plate_chk();\\012	\N
007	source/sql/postgresql/007/data-007.sql	SUCCESS	2007-12-04 15:50:54.189	\\011----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table MATERIAL_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  21-May-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into persons\\012(id\\012,first_name\\012,last_name\\012,user_id\\012,email)\\012values\\012(nextval('PERSON_ID_SEQ')\\012,''\\012,'System User'\\012,'system'\\012,''\\012);\\012\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'VIRUS'\\012,'Virus'\\012);\\012\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'CELLLINE'\\012,'Cell Line or Cell Culture. The growing of cells under controlled conditions.'\\012);\\012\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'CELLNUCL'\\012,'Cell Nucleus'\\012);\\012\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'GENE'\\012,'Gene'\\012);\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'OLIGO'\\012,'Oligo nucleotide'\\012);\\012insert into material_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('MATERIAL_TYPE_ID_SEQ')\\012,'CONTROL'\\012,'Control of a control layout'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table MATERIALS\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  21-May-2007   CRW          First Draft\\012--  20-Jun-2007   CRW          Added the virus list received from Berend\\012-----------------------------------------------------------------------\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'SV40'\\012,1\\012,'Simian Virus 40'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'VSV'\\012,1\\012,'Vesicular Stomatitis Virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'SFV'\\012,1\\012,'Semliki Forest Virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'ROTAV'\\012,1\\012,'Rotavirus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'RRV'\\012,1\\012,'Rhesus Rotavirus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'HSV1'\\012,1\\012,'Herpes Simplex Virus 1'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'EV1'\\012,1\\012,'Echovirus 1'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'MHV'\\012,1\\012,'Mouse Hepatitis Virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'FLU'\\012,1\\012,'Influenza A virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'Ad3'\\012,1\\012,'Adenovirus 3'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'Ad5'\\012,1\\012,'Adenovirus 5'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'VV'\\012,1\\012,'Vaccinia Virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'YFV'\\012,1\\012,'Yellow Fever Virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'DV'\\012,1\\012,'Dengue Virus 1'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'HRV2'\\012,1\\012,'Human respiratory virus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'RV'\\012,(select id from material_types where code = 'VIRUS')\\012,'Rhinovirus'\\012,1\\012);\\012\\012insert into materials\\012(  id\\012  ,code\\012  ,maty_id\\012  ,description\\012  ,pers_id_registerer\\012  )\\012values \\012(nextval('MATERIAL_ID_SEQ')\\012,'RSV'\\012,(select id from material_types where code = 'VIRUS')\\012,'Respiratory Syncytial Virus'\\012,1\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table EXPERIMENT_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  21-May-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into experiment_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('EXPERIMENT_TYPE_ID_SEQ')\\012,'SIRNAHCS'\\012,'Small Interfering RNA High Content Screening'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table PROCEDURE_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  14-Jun-2007   CRW          First Draft\\012--  26-Jun-2007   CRW          Add Experiment Sample Registration\\012--\\012-----------------------------------------------------------------------\\012\\012insert into procedure_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('PROCEDURE_TYPE_ID_SEQ')\\012,'DATA ACQUISITION'\\012,'Data Acquisition'\\012);\\012\\012insert into procedure_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('PROCEDURE_TYPE_ID_SEQ')\\012,'IMAGE ANALYSIS'\\012,'Image Analysis'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table OBSERVABLE_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  14-Jun-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into observable_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('OBSERVABLE_TYPE_ID_SEQ')\\012,'IMAGE'\\012,'Image'\\012);\\012\\012insert into observable_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('OBSERVABLE_TYPE_ID_SEQ')\\012,'IMAGE ANALYSIS'\\012,'Image Analysis'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table FILE_FORMAT_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  14-Jun-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into file_format_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('FILE_FORMAT_TYPE_ID_SEQ')\\012,'TIFF'\\012,'TIFF File'\\012);\\012\\012insert into file_format_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('FILE_FORMAT_TYPE_ID_SEQ')\\012,'3VPROPRIETARY'\\012,'Data Analysis 3V proprietary format'\\012);\\012\\012insert into file_format_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('FILE_FORMAT_TYPE_ID_SEQ')\\012,'PLKPROPRIETARY'\\012,'Data Analysis Pelkmans group proprietary format'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table LOCATOR_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  27-Jun-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into locator_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('LOCATOR_TYPE_ID_SEQ')\\012,'RELATIVE LOCATION'\\012,'Relative Location'\\012);\\012\\012----------------------------------------------------------------------\\012--  Purpose:  Insert an initial data set into the table SAMPLE_TYPES\\012--\\012--  Authors: Randy Ramin-Wright (CRW)\\012--\\012--  Change History:\\012--\\012--  Date          Author       Description\\012--  26-Jun-2007   CRW          First Draft\\012--\\012-----------------------------------------------------------------------\\012\\012insert into sample_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('SAMPLE_TYPE_ID_SEQ')\\012,'MASTER PLATE'\\012,'Master Plate'\\012);\\012\\012insert into sample_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('SAMPLE_TYPE_ID_SEQ')\\012,'DILUTION PLATE'\\012,'Dilution Plate'\\012);\\012\\012insert into sample_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('SAMPLE_TYPE_ID_SEQ')\\012,'CELL PLATE'\\012,'Cell Plate'\\012);\\012\\012insert into sample_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('SAMPLE_TYPE_ID_SEQ')\\012,'REINFECT PLATE'\\012,'Reinfection Plate'\\012);\\012\\012insert into sample_types\\012(id\\012,code\\012,description)\\012values \\012(nextval('SAMPLE_TYPE_ID_SEQ')\\012,'CONTROL LAYOUT'\\012,'Control layout'\\012);\\012\\012-- add default organization and project to simplify refactoring phase\\012\\012insert into organizations\\012(id\\012,code)\\012values\\012(nextval('ORGANIZATION_ID_SEQ')\\012,'DEFAULT'\\012);\\012\\012insert into organizations\\012(id\\012,code)\\012values\\012(nextval('ORGANIZATION_ID_SEQ')\\012,'3V'\\012);\\012\\012insert into organizations\\012(id\\012,code)\\012values\\012(nextval('ORGANIZATION_ID_SEQ')\\012,'IMSB'\\012);\\012\\012insert into projects\\012(id\\012,code\\012,orga_id)\\012values\\012(nextval('PROJECT_ID_SEQ')\\012,'DEFAULT'\\012,1\\012);\\012	\N
