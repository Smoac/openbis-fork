show allResults

{project} = ch.systemsx.cisd.openbis
{generic} = ${project}.generic
{plugin} = ${project}.plugin

##########################################
# Generic module
##########################################

[generic.client] = ${generic}.client.*
[generic.server] = ${generic}.server.*
[generic.shared] = ${generic}.shared.*

check sets [generic.client] [generic.server] [generic.shared]

layer generic.client-server = [generic.client] [generic.server]
layer generic.shared = [generic.shared]

check layeringOf generic.shared generic.client-server

#-------- Web client ---------------------

{generic.web} = ${generic}.client.web

[generic.web.client] = ${generic.web}.client.application.*
[generic.web.shared] = ${generic.web}.client.* excluding [generic.web.client]
[generic.web.server] = ${generic.web}.server.*

check sets [generic.web.client] [generic.web.server] [generic.web.shared]

layer generic.web.client-server = [generic.web.client] [generic.web.server]
layer generic.web.shared = [generic.web.shared]

check layeringOf generic.web.shared generic.web.client-server

{generic.web.ui} = ${generic.web}.client.application.ui

[sample-browser] = ${generic.web.ui}.sample_browser
[admin-console] = ${generic.web.ui}.amc
check [sample-browser] independentOf [admin-console]
check [admin-console]  independentOf [sample-browser]

#-------- Server -------------------------
{generic.server} = ${generic}.server

[generic.server.authorization] = ${generic.server}.authorization.*
[generic.server.business] = ${generic.server}.business.*
[generic.server.dataaccess] = ${generic.server}.dataaccess.*
[generic.server.util] = ${generic.server}.util.*
[generic.server-subpackages] = ${generic.server}.* excluding ${generic.server}.*.*

check sets [generic.server.authorization] [generic.server.business] [generic.server.dataaccess] \
           [generic.server.util] [generic.server-subpackages]

layer generic.server.1 = [generic.server.dataaccess]
layer generic.server.2 = [generic.server.util]
layer generic.server.3 = [generic.server.authorization]
layer generic.server.4 = [generic.server.business]
layer generic.server.5 = [generic.server-subpackages]

check layeringOf generic.server.1 generic.server.2 generic.server.3 generic.server.4 generic.server.5 

##########################################
# Plugins
##########################################

[plugin.generic] = ${plugin}.generic.*
[plugin.screening] = ${plugin}.screening.*
check sets [plugin.generic] [plugin.screening]

#A technology can have dependencies to the 'generic' technology but not the other way around.
layer plugin-layer1 = [plugin.generic]
layer plugin-layer2 = [plugin.screening]

check layeringOf plugin-layer1 plugin-layer2

###########################################
# Generic plugin

{pn} = generic

# Dependencies between 'client', 'server' and 'shared' packages
[plugin.${pn}.client] = ${plugin}.${pn}.client.*
[plugin.${pn}.server] = ${plugin}.${pn}.server.*
[plugin.${pn}.shared] = ${plugin}.${pn}.shared.*

check sets [plugin.${pn}.client] [plugin.${pn}.server] [plugin.${pn}.shared]

layer plugin.${pn}.client-server = [plugin.${pn}.client] [plugin.${pn}.server]
layer plugin.${pn}.shared = [plugin.${pn}.shared]

check layeringOf plugin.${pn}.shared plugin.${pn}.client-server

# Dependencies between 'web.client' and 'web.server' packages
[plugin.${pn}.web.client] = ${plugin}.${pn}.client.web.client.application.*
[plugin.${pn}.web.server] = ${plugin}.${pn}.client.web.server.*

check sets [plugin.${pn}.web.client] [plugin.${pn}.web.server]

layer plugin.${pn}.web.client-server = [plugin.${pn}.web.client] [plugin.${pn}.web.server]

check layeringOf plugin.${pn}.web.client-server

###########################################
# Screening plugin

{pn} = screening

# Dependencies between 'client', 'server' and 'shared' packages
[plugin.${pn}.client] = ${plugin}.${pn}.client.*
[plugin.${pn}.server] = ${plugin}.${pn}.server.*
[plugin.${pn}.shared] = ${plugin}.${pn}.shared.*

check sets [plugin.${pn}.client] [plugin.${pn}.server] [plugin.${pn}.shared]

layer plugin.${pn}.client-server = [plugin.${pn}.client] [plugin.${pn}.server]
layer plugin.${pn}.shared = [plugin.${pn}.shared]

check layeringOf plugin.${pn}.shared plugin.${pn}.client-server

# Dependencies between 'web.client' and 'web.server' packages
[plugin.${pn}.web.client] = ${plugin}.${pn}.client.web.client.application.*
[plugin.${pn}.web.server] = ${plugin}.${pn}.client.web.server.*

check sets [plugin.${pn}.web.client] [plugin.${pn}.web.server]

layer plugin.${pn}.web.client-server = [plugin.${pn}.web.client] [plugin.${pn}.web.server]

check layeringOf plugin.${pn}.web.client-server

