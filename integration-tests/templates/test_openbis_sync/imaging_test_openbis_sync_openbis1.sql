--
-- PostgreSQL database dump
--

SET statement_timeout = 0;
SET lock_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: -
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET search_path = public, pg_catalog;

--
-- Name: boolean_char; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN boolean_char AS boolean DEFAULT false;


--
-- Name: channel_color; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN channel_color AS character varying(20)
	CONSTRAINT channel_color_check CHECK (((VALUE)::text = ANY ((ARRAY['BLUE'::character varying, 'GREEN'::character varying, 'RED'::character varying, 'RED_GREEN'::character varying, 'RED_BLUE'::character varying, 'GREEN_BLUE'::character varying])::text[])));


--
-- Name: code; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN code AS character varying(40);


--
-- Name: color_component; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN color_component AS character varying(40)
	CONSTRAINT color_component_check CHECK (((VALUE)::text = ANY ((ARRAY['RED'::character varying, 'GREEN'::character varying, 'BLUE'::character varying])::text[])));


--
-- Name: description; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN description AS character varying(200);


--
-- Name: file_path; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN file_path AS character varying(1000);


--
-- Name: long_name; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN long_name AS text;


--
-- Name: tech_id; Type: DOMAIN; Schema: public; Owner: -
--

CREATE DOMAIN tech_id AS bigint;


--
-- Name: channel_stacks_check(); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION channel_stacks_check() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
   v_cont_id  CODE;
BEGIN

   select cont_id into v_cont_id from image_data_sets where id = NEW.ds_id;

   -- Check that if there is no spot than there is no dataset container as well
   if v_cont_id IS NULL then
      if NEW.spot_id IS NOT NULL then
         RAISE EXCEPTION 'Insert/Update of CHANNEL_STACKS failed, as the dataset container is not set, but spot is (spot id = %).',NEW.spot_id;
      end if;
	 else
      if NEW.spot_id IS NULL then
         RAISE EXCEPTION 'Insert/Update of CHANNEL_STACKS failed, as the dataset container is set (id = %), but spot is not set.',v_cont_id;
      end if; 
   end if;
   RETURN NEW;
END;
$$;


--
-- Name: delete_empty_acquired_images(); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION delete_empty_acquired_images() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
	delete from acquired_images where id = OLD.id;
	RETURN NEW;
END;
$$;


--
-- Name: delete_unused_images(); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION delete_unused_images() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
   delete from images where id = OLD.img_id or id = OLD.thumbnail_id;
   RETURN NEW;
END;
$$;


--
-- Name: delete_unused_nulled_images(); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION delete_unused_nulled_images() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
	if NEW.img_id IS NULL then
		if OLD.img_id IS NOT NULL then
		  delete from images where id = OLD.img_id;
		end if;
	end if;
	if NEW.thumbnail_id IS NULL then
		if OLD.thumbnail_id IS NOT NULL then
		  delete from images where id = OLD.thumbnail_id;
		end if;
	end if;
	RETURN NEW;
END;
$$;


--
-- Name: image_transformations_default_check(); Type: FUNCTION; Schema: public; Owner: -
--

CREATE FUNCTION image_transformations_default_check() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
DECLARE
   v_is_default boolean;
BEGIN
   if NEW.is_default = 'T' then
	   select is_default into v_is_default from IMAGE_TRANSFORMATIONS 
	   	where is_default = 'T' 
	   			  and channel_id = NEW.channel_id
	   				and id != NEW.id;
	   if v_is_default is NOT NULL then
	      RAISE EXCEPTION 'Insert/Update of image transformation (Code: %) failed, as the new record has is_default set to true and there is already a default record defined.', NEW.code;
	   end if;
   end if;

   RETURN NEW;
END;
$$;


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: acquired_images; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE acquired_images (
    id bigint NOT NULL,
    img_id tech_id,
    thumbnail_id tech_id,
    image_transformer_factory bytea,
    channel_stack_id tech_id NOT NULL,
    channel_id tech_id NOT NULL
);


--
-- Name: acquired_images_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE acquired_images_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: acquired_images_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE acquired_images_id_seq OWNED BY acquired_images.id;


--
-- Name: analysis_data_sets; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE analysis_data_sets (
    id bigint NOT NULL,
    perm_id code NOT NULL,
    cont_id tech_id
);


--
-- Name: analysis_data_sets_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE analysis_data_sets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: analysis_data_sets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE analysis_data_sets_id_seq OWNED BY analysis_data_sets.id;


--
-- Name: channel_stacks; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE channel_stacks (
    id bigint NOT NULL,
    x integer,
    y integer,
    z_in_m real,
    t_in_sec real,
    series_number integer,
    is_representative boolean_char DEFAULT false NOT NULL,
    ds_id tech_id NOT NULL,
    spot_id tech_id
);


--
-- Name: channel_stacks_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE channel_stacks_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: channel_stacks_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE channel_stacks_id_seq OWNED BY channel_stacks.id;


--
-- Name: channels; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE channels (
    id bigint NOT NULL,
    code long_name NOT NULL,
    label long_name NOT NULL,
    description description,
    wavelength integer,
    red_cc integer NOT NULL,
    green_cc integer NOT NULL,
    blue_cc integer NOT NULL,
    ds_id tech_id,
    exp_id tech_id,
    CONSTRAINT channels_ds_exp_arc_ck CHECK ((((ds_id IS NOT NULL) AND (exp_id IS NULL)) OR ((ds_id IS NULL) AND (exp_id IS NOT NULL))))
);


--
-- Name: channels_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE channels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: channels_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE channels_id_seq OWNED BY channels.id;


--
-- Name: containers; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE containers (
    id bigint NOT NULL,
    perm_id code NOT NULL,
    spots_width integer,
    spots_height integer,
    expe_id tech_id NOT NULL
);


--
-- Name: containers_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE containers_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: containers_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE containers_id_seq OWNED BY containers.id;


--
-- Name: database_version_logs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE database_version_logs (
    db_version character varying(4) NOT NULL,
    module_name character varying(250),
    run_status character varying(10),
    run_status_timestamp timestamp without time zone,
    module_code bytea,
    run_exception bytea
);


--
-- Name: events; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE events (
    last_seen_deletion_event_id tech_id NOT NULL
);


--
-- Name: experiments; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE experiments (
    id bigint NOT NULL,
    perm_id code NOT NULL,
    image_transformer_factory bytea
);


--
-- Name: experiments_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE experiments_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: experiments_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE experiments_id_seq OWNED BY experiments.id;


--
-- Name: feature_defs; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE feature_defs (
    id bigint NOT NULL,
    code long_name NOT NULL,
    label long_name NOT NULL,
    description description,
    ds_id tech_id NOT NULL
);


--
-- Name: feature_defs_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE feature_defs_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: feature_defs_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE feature_defs_id_seq OWNED BY feature_defs.id;


--
-- Name: feature_values; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE feature_values (
    id bigint NOT NULL,
    z_in_m real,
    t_in_sec real,
    "values" bytea NOT NULL,
    fd_id tech_id NOT NULL
);


--
-- Name: feature_values_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE feature_values_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: feature_values_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE feature_values_id_seq OWNED BY feature_values.id;


--
-- Name: feature_vocabulary_terms; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE feature_vocabulary_terms (
    id bigint NOT NULL,
    code long_name NOT NULL,
    sequence_number integer NOT NULL,
    fd_id tech_id NOT NULL
);


--
-- Name: feature_vocabulary_terms_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE feature_vocabulary_terms_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: feature_vocabulary_terms_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE feature_vocabulary_terms_id_seq OWNED BY feature_vocabulary_terms.id;


--
-- Name: image_data_sets; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE image_data_sets (
    id bigint NOT NULL,
    perm_id code NOT NULL,
    fields_width integer,
    fields_height integer,
    image_transformer_factory bytea,
    is_multidimensional boolean_char NOT NULL,
    image_library_name long_name,
    image_library_reader_name long_name,
    cont_id tech_id
);


--
-- Name: image_data_sets_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE image_data_sets_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: image_data_sets_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE image_data_sets_id_seq OWNED BY image_data_sets.id;


--
-- Name: image_transformations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE image_transformations (
    id bigint NOT NULL,
    code long_name NOT NULL,
    label long_name NOT NULL,
    description character varying(1000),
    image_transformer_factory bytea NOT NULL,
    is_editable boolean_char NOT NULL,
    is_default boolean_char DEFAULT false NOT NULL,
    channel_id tech_id NOT NULL
);


--
-- Name: image_transformations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE image_transformations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: image_transformations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE image_transformations_id_seq OWNED BY image_transformations.id;


--
-- Name: image_zoom_level_transformations; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE image_zoom_level_transformations (
    id bigint NOT NULL,
    zoom_level_id tech_id NOT NULL,
    channel_id tech_id NOT NULL,
    image_transformation_id tech_id NOT NULL
);


--
-- Name: image_zoom_level_transformations_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE image_zoom_level_transformations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: image_zoom_level_transformations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE image_zoom_level_transformations_id_seq OWNED BY image_zoom_level_transformations.id;


--
-- Name: image_zoom_levels; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE image_zoom_levels (
    id bigint NOT NULL,
    is_original boolean_char NOT NULL,
    container_dataset_id tech_id NOT NULL,
    physical_dataset_perm_id text NOT NULL,
    path file_path,
    width integer,
    height integer,
    color_depth integer,
    file_type character varying(20)
);


--
-- Name: image_zoom_levels_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE image_zoom_levels_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: image_zoom_levels_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE image_zoom_levels_id_seq OWNED BY image_zoom_levels.id;


--
-- Name: images; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE images (
    id bigint NOT NULL,
    path file_path NOT NULL,
    image_id code,
    color color_component
);


--
-- Name: images_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE images_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: images_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE images_id_seq OWNED BY images.id;


--
-- Name: spots; Type: TABLE; Schema: public; Owner: -; Tablespace: 
--

CREATE TABLE spots (
    id bigint NOT NULL,
    x integer,
    y integer,
    cont_id tech_id NOT NULL
);


--
-- Name: spots_id_seq; Type: SEQUENCE; Schema: public; Owner: -
--

CREATE SEQUENCE spots_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


--
-- Name: spots_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: -
--

ALTER SEQUENCE spots_id_seq OWNED BY spots.id;


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY acquired_images ALTER COLUMN id SET DEFAULT nextval('acquired_images_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY analysis_data_sets ALTER COLUMN id SET DEFAULT nextval('analysis_data_sets_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY channel_stacks ALTER COLUMN id SET DEFAULT nextval('channel_stacks_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY channels ALTER COLUMN id SET DEFAULT nextval('channels_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY containers ALTER COLUMN id SET DEFAULT nextval('containers_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY experiments ALTER COLUMN id SET DEFAULT nextval('experiments_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_defs ALTER COLUMN id SET DEFAULT nextval('feature_defs_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_values ALTER COLUMN id SET DEFAULT nextval('feature_values_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_vocabulary_terms ALTER COLUMN id SET DEFAULT nextval('feature_vocabulary_terms_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_data_sets ALTER COLUMN id SET DEFAULT nextval('image_data_sets_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_transformations ALTER COLUMN id SET DEFAULT nextval('image_transformations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_zoom_level_transformations ALTER COLUMN id SET DEFAULT nextval('image_zoom_level_transformations_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_zoom_levels ALTER COLUMN id SET DEFAULT nextval('image_zoom_levels_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY images ALTER COLUMN id SET DEFAULT nextval('images_id_seq'::regclass);


--
-- Name: id; Type: DEFAULT; Schema: public; Owner: -
--

ALTER TABLE ONLY spots ALTER COLUMN id SET DEFAULT nextval('spots_id_seq'::regclass);


--
-- Data for Name: acquired_images; Type: TABLE DATA; Schema: public; Owner: -
--

COPY acquired_images (id, img_id, thumbnail_id, image_transformer_factory, channel_stack_id, channel_id) FROM stdin;
1	1	2	\N	1	1
2	3	4	\N	1	2
3	5	6	\N	1	3
4	7	8	\N	2	1
5	9	10	\N	2	2
6	11	12	\N	2	3
7	13	14	\N	3	1
8	15	16	\N	3	2
9	17	18	\N	3	3
10	19	20	\N	4	1
11	21	22	\N	4	2
12	23	24	\N	4	3
13	25	26	\N	5	1
14	27	28	\N	5	2
15	29	30	\N	5	3
16	31	32	\N	6	1
17	33	34	\N	6	2
18	35	36	\N	6	3
\.


--
-- Name: acquired_images_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('acquired_images_id_seq', 18, true);


--
-- Data for Name: analysis_data_sets; Type: TABLE DATA; Schema: public; Owner: -
--

COPY analysis_data_sets (id, perm_id, cont_id) FROM stdin;
\.


--
-- Name: analysis_data_sets_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('analysis_data_sets_id_seq', 1, false);


--
-- Data for Name: channel_stacks; Type: TABLE DATA; Schema: public; Owner: -
--

COPY channel_stacks (id, x, y, z_in_m, t_in_sec, series_number, is_representative, ds_id, spot_id) FROM stdin;
1	2	1	\N	\N	\N	f	1	1
2	2	2	\N	\N	\N	f	1	1
3	1	1	\N	\N	\N	t	1	1
4	1	2	\N	\N	\N	f	1	1
5	3	1	\N	\N	\N	f	1	1
6	3	2	\N	\N	\N	f	1	1
\.


--
-- Name: channel_stacks_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('channel_stacks_id_seq', 6, true);


--
-- Data for Name: channels; Type: TABLE DATA; Schema: public; Owner: -
--

COPY channels (id, code, label, description, wavelength, red_cc, green_cc, blue_cc, ds_id, exp_id) FROM stdin;
1	CY3	Cy3	\N	\N	255	0	0	1	\N
2	DAPI	DAPI	\N	\N	0	0	255	1	\N
3	GFP	GFP	\N	\N	0	255	0	1	\N
\.


--
-- Name: channels_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('channels_id_seq', 3, true);


--
-- Data for Name: containers; Type: TABLE DATA; Schema: public; Owner: -
--

COPY containers (id, perm_id, spots_width, spots_height, expe_id) FROM stdin;
1	20161010125004966-2	24	16	1
\.


--
-- Name: containers_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('containers_id_seq', 1, true);


--
-- Data for Name: database_version_logs; Type: TABLE DATA; Schema: public; Owner: -
--

COPY database_version_logs (db_version, module_name, run_status, run_status_timestamp, module_code, run_exception) FROM stdin;
023	sql/imaging/postgresql/023/schema-023.sql	SUCCESS	2016-10-10 12:39:36.96	\\x0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a2f2a20446f6d61696e73202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202a2f0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a0a43524541544520444f4d41494e20544543485f494420415320424947494e543b0a0a43524541544520444f4d41494e20434f44452041532056415243484152283430293b0a0a43524541544520444f4d41494e204c4f4e475f4e414d4520415320544558543b0a0a43524541544520444f4d41494e204445534352495054494f4e204153205641524348415228323030293b0a0a43524541544520444f4d41494e2046494c455f5041544820617320564152434841522831303030293b0a0a43524541544520444f4d41494e20434f4c4f525f434f4d504f4e454e5420415320564152434841522834302920434845434b202856414c554520494e202827524544272c2027475245454e272c2027424c55452729293b0a0a43524541544520444f4d41494e204348414e4e454c5f434f4c4f5220415320564152434841522832302920434845434b202856414c554520494e202827424c5545272c2027475245454e272c2027524544272c20275245445f475245454e272c20275245445f424c5545272c2027475245454e5f424c55452729293b0a200a43524541544520444f4d41494e20424f4f4c45414e5f4348415220415320424f4f4c45414e2044454641554c542046414c53453b0a0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a2f2a205461626c657320202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202a2f0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a0a435245415445205441424c45204558504552494d454e545320280a202049442042494753455249414c204e4f54204e554c4c2c0a20205045524d5f494420434f4445204e4f54204e554c4c2c0a2020494d4147455f5452414e53464f524d45525f464143544f52592042595445412c0a0a20205052494d415259204b455920284944292c0a2020554e4951554520285045524d5f4944290a293b0a0a435245415445205441424c4520434f4e5441494e45525320280a202049442042494753455249414c204e4f54204e554c4c2c0a20205045524d5f494420434f4445204e4f54204e554c4c2c0a0a202053504f54535f574944544820494e54454745522c0a202053504f54535f48454947485420494e54454745522c0a20200a2020455850455f494420544543485f4944204e4f54204e554c4c2c0a0a20205052494d415259204b455920284944292c0a2020554e4951554520285045524d5f4944292c0a2020434f4e53545241494e5420464b5f53414d504c455f3120464f524549474e204b45592028455850455f494429205245464552454e434553204558504552494d454e54532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820434f4e5441494e4552535f455850455f494458204f4e20434f4e5441494e45525328455850455f4944293b0a0a435245415445205441424c452053504f545320280a202049442042494753455249414c204e4f54204e554c4c2c0a090a092d2d20706f736974696f6e20696e2074686520636f6e7461696e65722c206f6e652d62617365640a20205820494e54454745522c200a20205920494e54454745522c200a2020434f4e545f494420544543485f4944204e4f54204e554c4c2c0a20200a20205052494d415259204b455920284944292c0a2020434f4e53545241494e5420464b5f53504f545f3120464f524549474e204b45592028434f4e545f494429205245464552454e43455320434f4e5441494e4552532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e4445582053504f54535f434f4e545f494458204f4e2053504f545328434f4e545f4944293b0a2d2d20616c6c6f777320746f2073656c656374206f6e652073706f74206f662074686520636f6e7461696e657220717569636b65720a43524541544520494e4445582053504f54535f434f4f5244535f494458204f4e2053504f545328434f4e545f49442c20582c2059293b0a0a435245415445205441424c4520414e414c595349535f444154415f5345545320280a202049442042494753455249414c204e4f54204e554c4c2c0a20205045524d5f494420434f4445204e4f54204e554c4c2c0a0a2020434f4e545f494420544543485f49442c0a20200a20205052494d415259204b455920284944292c0a2020554e4951554520285045524d5f4944292c0a2020434f4e53545241494e5420464b5f414e414c595349535f444154415f5345545f3120464f524549474e204b45592028434f4e545f494429205245464552454e43455320434f4e5441494e4552532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820414e414c595349535f444154415f534554535f434f4e545f494458204f4e20414e414c595349535f444154415f5345545328434f4e545f4944293b0a0a0a435245415445205441424c4520494d4147455f444154415f5345545320280a202049442042494753455249414c204e4f54204e554c4c2c0a20205045524d5f494420434f4445204e4f54204e554c4c2c0a0a20202d2d2d2d20696d6167652064617461736574207370656369666963206669656c6473202873686f756c64206265207265666163746f72656429200a094649454c44535f574944544820494e54454745522c0a094649454c44535f48454947485420494e54454745522c090a20202d2d207472616e73666f726d6174696f6e20666f72206d6572676564206368616e6e656c73206f6e207468652064617461736574206c6576656c2c206f7665727269646573206578706572696d656e74206c6576656c207472616e73666f726d6174696f6e0a2020494d4147455f5452414e53464f524d45525f464143544f52592042595445412c0a20202d2d206120726564756e64616e7420696e666f726d6174696f6e206966207468657265206172652074696d65706f696e74206f7220646570746820737461636b206461746120666f7220616e792073706f747320696e207468697320646174617365740a202049535f4d554c544944494d454e53494f4e414c20424f4f4c45414e5f43484152204e4f54204e554c4c2c0a0a20202d2d20576869636820696d616765206c6962726172792073686f756c64206265207573656420746f20726561642074686520696d6167653f200a20202d2d204966206e6f74207370656369666965642c20736f6d6520686575726973746963732061726520757365642c2062757420697420697320736c6f77657220616e6420646f6573206e6f7420747279207769746820616c6c2074686520617661696c61626c65206c69627261726965732e200a2020494d4147455f4c4942524152595f4e414d45204c4f4e475f4e414d452c0a20202d2d2057686963682072656164657220696e20746865206c6962726172792073686f756c6420626520757365643f2056616c6964206f6e6c7920696620746865206c696272617279204c4f4e475f4e414d45206973207370656369666965642e0a20202d2d2053686f756c6420626520737065636966696564207768656e206c696272617279204c4f4e475f4e414d45206973207370656369666965642e0a2020494d4147455f4c4942524152595f5245414445525f4e414d45204c4f4e475f4e414d452c0a20202d2d2d2d20454e4420696d6167652064617461736574207370656369666963206669656c64730a20200a2020434f4e545f494420544543485f49442c0a20200a20205052494d415259204b455920284944292c0a2020554e4951554520285045524d5f4944292c0a2020434f4e53545241494e5420464b5f494d4147455f444154415f5345545f3120464f524549474e204b45592028434f4e545f494429205245464552454e43455320434f4e5441494e4552532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820494d4147455f444154415f534554535f434f4e545f494458204f4e20494d4147455f444154415f5345545328434f4e545f4944293b0a0a435245415445205441424c45204348414e4e454c5320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a202020200a20202020434f4445204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204c4142454c204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204445534352495054494f4e204445534352495054494f4e2c0a20202020574156454c454e47544820494e54454745522c0a0a202020202d2d2052474220636f6c6f7220636f6d706f6e656e747320737065636966792074686520636f6c6f7220696e207768696368206368616e6e656c2073686f756c6420626520646973706c617965640a202020205245445f434320494e5445474552204e4f54204e554c4c2c0a20202020475245454e5f434320494e5445474552204e4f54204e554c4c2c0a20202020424c55455f434320494e5445474552204e4f54204e554c4c2c0a0a2020202044535f494420544543485f49442c0a202020204558505f494420544543485f49442c0a202020200a202020205052494d415259204b455920284944292c0a20202020434f4e53545241494e5420464b5f4348414e4e454c535f3120464f524549474e204b4559202844535f494429205245464552454e43455320494d4147455f444154415f534554532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464b5f4348414e4e454c535f3220464f524549474e204b455920284558505f494429205245464552454e434553204558504552494d454e54532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e54204348414e4e454c535f44535f4558505f4152435f434b20434845434b20282844535f4944204953204e4f54204e554c4c20414e44204558505f4944204953204e554c4c29204f52202844535f4944204953204e554c4c20414e44204558505f4944204953204e4f54204e554c4c29292c0a202020200a20202020434f4e53545241494e54204348414e4e454c535f554b5f3120554e4951554528434f44452c2044535f4944292c0a20202020434f4e53545241494e54204348414e4e454c535f554b5f3220554e4951554528434f44452c204558505f4944290a293b0a0a43524541544520494e444558204348414e4e454c535f44535f494458204f4e204348414e4e454c532844535f4944293b0a0a435245415445205441424c4520494d4147455f5452414e53464f524d4154494f4e5320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a202020200a20202020434f4445204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204c4142454c204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204445534352495054494f4e206368617261637465722076617279696e672831303030292c0a20202020494d4147455f5452414e53464f524d45525f464143544f5259204259544541204e4f54204e554c4c2c0a202020200a202020202d2d20466f72206e6f772074686572652063616e206265206f6e6c79206f6e65207472616e73666f726d6174696f6e20666f722065616368206368616e6e656c207768696368206973206564697461626c6520627920496d616765205669657765722c0a202020202d2d20627574207768656e204755492077696c6c20737570706f7274206d6f7265207468656e207468697320636f6c756d6e2077696c6c206265636f6d65207265616c6c792075736566756c2e0a2020202049535f4544495441424c4520424f4f4c45414e5f43484152204e4f54204e554c4c2c0a202020200a202020202d2d205468652064656661756c742063686f69636520746f2070726573656e742074686520696d6167652e0a202020202d2d204966206e6f742070726573656e7420612027686172642d636f646564272064656661756c74207472616e73666f726d6174696f6e2077696c6c206265636f6d6520617661696c61626c652e200a2020202049535f44454641554c5420424f4f4c45414e5f43484152204e4f54204e554c4c2044454641554c54202746272c0a202020200a202020204348414e4e454c5f494420544543485f4944204e4f54204e554c4c2c0a202020200a202020205052494d415259204b455920284944292c0a20202020434f4e53545241494e5420464b5f494d4147455f5452414e53464f524d4154494f4e535f4348414e4e454c20464f524549474e204b455920284348414e4e454c5f494429205245464552454e434553204348414e4e454c532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a202020200a20202020434f4e53545241494e5420494d4147455f5452414e53464f524d4154494f4e535f554b5f3120554e4951554528434f44452c204348414e4e454c5f4944290a293b0a0a43524541544520494e44455820494d4147455f5452414e53464f524d4154494f4e535f4348414e4e454c535f494458204f4e20494d4147455f5452414e53464f524d4154494f4e53284348414e4e454c5f4944293b0a0a435245415445205441424c4520494d4147455f5a4f4f4d5f4c4556454c5320280a202049442042494753455249414c204e4f54204e554c4c2c0a0a202049535f4f524947494e414c20424f4f4c45414e5f43484152204e4f54204e554c4c2c0a2020434f4e5441494e45525f444154415345545f494420544543485f4944204e4f54204e554c4c2c200a20200a20202d2d205065726d206964206f66207468652027706879736963616c27206461746173657420776869636820636f6e7461696e7320616c6c20696d6167657320776974682074686973207a6f6f6d2e0a20202d2d20506879736963616c20646174617365747320617265206e6f742073746f72656420696e2022696d6167655f646174615f7365747322207461626c652c20627574207765206e65656420746865207265666572656e636520746f207468656d200a20202d2d207768656e2077652064656c657465206f722061726368697665206f6e65207a6f6f6d206c6576656c2e200a2020504859534943414c5f444154415345545f5045524d5f49442054455854204e4f54204e554c4c2c0a20200a2020504154482046494c455f504154482c0a2020574944544820494e54454745522c0a202048454947485420494e54454745522c0a2020434f4c4f525f444550544820494e54454745522c0a202046494c455f545950452056415243484152283230292c0a20200a20205052494d415259204b455920284944292c0a2020434f4e53545241494e5420464b5f494d4147455f5a4f4f4d5f4c4556454c535f3120464f524549474e204b45592028434f4e5441494e45525f444154415345545f494429205245464552454e43455320494d4147455f444154415f534554532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820494d4147455f5a4f4f4d5f4c4556454c535f504859535f44535f494458204f4e20494d4147455f5a4f4f4d5f4c4556454c532028504859534943414c5f444154415345545f5045524d5f4944293b0a43524541544520494e44455820494d4147455f5a4f4f4d5f4c4556454c535f434f4e545f464b5f494458204f4e20494d4147455f5a4f4f4d5f4c4556454c532028434f4e5441494e45525f444154415345545f4944293b0a0a435245415445205441424c4520494d4147455f5a4f4f4d5f4c4556454c5f5452414e53464f524d4154494f4e5320280a0949442042494753455249414c204e4f54204e554c4c2c0a090a20205a4f4f4d5f4c4556454c5f494420544543485f4944204e4f54204e554c4c2c0a20204348414e4e454c5f494420544543485f4944204e4f54204e554c4c2c0a2020494d4147455f5452414e53464f524d4154494f4e5f494420544543485f4944204e4f54204e554c4c2c0a20200a20205052494d415259204b4559284944292c0a2020434f4e53545241494e5420464b5f494d4147455f5a4f4f4d5f4c4556454c5f5452414e53464f524d4154494f4e535f3120464f524549474e204b455920285a4f4f4d5f4c4556454c5f494429205245464552454e43455320494d4147455f5a4f4f4d5f4c4556454c532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a2020434f4e53545241494e5420464b5f494d4147455f5a4f4f4d5f4c4556454c5f5452414e53464f524d4154494f4e535f3220464f524549474e204b455920284348414e4e454c5f494429205245464552454e434553204348414e4e454c532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820494d4147455f5a4f4f4d5f4c4556454c5f5452414e53464f524d4154494f4e535f5a4c49445f494458204f4e20494d4147455f5a4f4f4d5f4c4556454c5f5452414e53464f524d4154494f4e53285a4f4f4d5f4c4556454c5f4944293b0a0a435245415445205441424c45204348414e4e454c5f535441434b5320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a09090a09092d2d207820616e64207920617265206b696e64206f6620612074776f2064696d656e73696f6e616c2073657175656e6365206e756d6265722c20736f6d65207573652063617365206d6179206f6e6c7920757365207820616e64206c65617665207920616c6f6e650a09095820494e54454745522c0a09095920494e54454745522c0a09092d2d20576520757365207468652066697865642064696d656e73696f6e206d657465727320686572652e0a09095a5f696e5f4d205245414c2c0a09092d2d20576520757365207468652066697865642064696d656e73696f6e207365636f6e647320686572652e0a0909545f696e5f534543205245414c2c0a09095345524945535f4e554d42455220494e54454745522c0a09090a09092d2d20466f7220616c6c206368616e6e656c20737461636b73206f6620612077656c6c202848435329206f7220696d616765206461746173657420286d6963726f73636f7079292074686572652073686f756c642062652065786163746c79200a09092d2d206f6e65207265636f726420776974682069735f726570726573656e746174697665203d20747275650a090969735f726570726573656e74617469766520424f4f4c45414e5f43484152204e4f54204e554c4c2044454641554c54202746272c0a202020200a2020202044535f494420544543485f4944094e4f54204e554c4c2c0a090953504f545f494420544543485f49442c0a0a202020205052494d415259204b455920284944292c0a20202020434f4e53545241494e5420464b5f4348414e4e454c5f535441434b535f3120464f524549474e204b4559202853504f545f494429205245464552454e4345532053504f54532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464b5f4348414e4e454c5f535441434b535f3220464f524549474e204b4559202844535f494429205245464552454e43455320494d4147455f444154415f534554532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e444558204348414e4e454c5f535441434b535f44535f494458204f4e204348414e4e454c5f535441434b532844535f4944293b0a43524541544520494e444558204348414e4e454c5f535441434b535f53504f545f494458204f4e204348414e4e454c5f535441434b532853504f545f4944293b0a43524541544520494e444558204348414e4e454c5f535441434b535f44494d5f494458204f4e204348414e4e454c5f535441434b5328582c20592c205a5f696e5f4d2c20545f696e5f534543293b0a0a435245415445205441424c4520494d4147455320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a2020200a20202020504154480946494c455f50415448204e4f54204e554c4c2c0a20202020494d4147455f494409434f44452c0a20202020434f4c4f5209434f4c4f525f434f4d504f4e454e542c0a202020200a202020205052494d415259204b455920284944290a293b0a0a435245415445205441424c452041435155495245445f494d4147455320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a2020200a0909494d475f494420544543485f49442c0a09095448554d424e41494c5f494420544543485f49442c0a0909494d4147455f5452414e53464f524d45525f464143544f52592042595445412c0a0a202020204348414e4e454c5f535441434b5f49442020544543485f4944204e4f54204e554c4c2c0a202020204348414e4e454c5f49442020544543485f4944204e4f54204e554c4c2c0a0a202020205052494d415259204b455920284944292c0a20202020434f4e53545241494e5420464b5f494d414745535f3120464f524549474e204b455920284348414e4e454c5f535441434b5f494429205245464552454e434553204348414e4e454c5f535441434b532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464b5f494d414745535f3220464f524549474e204b455920284348414e4e454c5f494429205245464552454e434553204348414e4e454c532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464b5f494d414745535f3320464f524549474e204b45592028494d475f494429205245464552454e43455320494d414745532028494429204f4e2044454c45544520534554204e554c4c204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464b5f494d414745535f3420464f524549474e204b455920285448554d424e41494c5f494429205245464552454e43455320494d414745532028494429204f4e2044454c45544520534554204e554c4c204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820494d414745535f4348414e4e454c5f535441434b5f494458204f4e2041435155495245445f494d41474553284348414e4e454c5f535441434b5f4944293b0a43524541544520494e44455820494d414745535f4348414e4e454c5f494458204f4e2041435155495245445f494d41474553284348414e4e454c5f4944293b0a43524541544520494e44455820494d414745535f494d475f494458204f4e2041435155495245445f494d4147455328494d475f4944293b0a43524541544520494e44455820494d414745535f5448554d424e41494c5f494458204f4e2041435155495245445f494d41474553285448554d424e41494c5f4944293b0a0a435245415445205441424c45204556454e545320280a20204c4153545f5345454e5f44454c4554494f4e5f4556454e545f494420544543485f4944204e4f54204e554c4c0a293b0a0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a2f2a204645415455524520564543544f525320202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202a2f0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f200a0a435245415445205441424c4520464541545552455f4445465320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a202020200a20202020434f4445204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204c4142454c204c4f4e475f4e414d45204e4f54204e554c4c2c0a202020204445534352495054494f4e204445534352495054494f4e2c0a202020200a2020202044535f49442020544543485f4944204e4f54204e554c4c2c0a202020200a202020205052494d415259204b455920284944292c0a20202020434f4e53545241494e5420464b5f464541545552455f444546535f3120464f524549474e204b4559202844535f494429205245464552454e43455320414e414c595349535f444154415f534554532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144452c0a20202020434f4e53545241494e5420464541545552455f444546535f554b5f3120554e4951554528434f44452c2044535f4944290a293b0a0a43524541544520494e44455820464541545552455f444546535f44535f494458204f4e20464541545552455f444546532844535f4944293b0a0a435245415445205441424c4520464541545552455f564f434142554c4152595f5445524d5320280a0949442042494753455249414c20204e4f54204e554c4c2c0a0a2020434f4445204c4f4e475f4e414d45204e4f54204e554c4c2c0a202053455155454e43455f4e554d42455220494e5445474552204e4f54204e554c4c2c0a0946445f49442020544543485f4944204e4f54204e554c4c2c0a0a095052494d415259204b455920284944292c0a09434f4e53545241494e5420464b5f464541545552455f564f434142554c4152595f5445524d535f3120464f524549474e204b4559202846445f494429205245464552454e43455320464541545552455f444546532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a293b0a0a43524541544520494e44455820464541545552455f564f434142554c4152595f5445524d535f46445f494458204f4e20464541545552455f564f434142554c4152595f5445524d532846445f4944293b0a0a435245415445205441424c4520464541545552455f56414c55455320280a2020202049442042494753455249414c20204e4f54204e554c4c2c0a09090a09092d2d20776520757365207468652066697865642064696d656e73696f6e206d657465727320686572650a09095a5f696e5f4d205245414c2c0a09092d2d20776520757365207468652066697865642064696d656e73696f6e207365636f6e647320686572650a0909545f696e5f534543205245414c2c0a09092d2d2053657269616c697a6564203244206d617472697820776974682076616c75657320666f7220656163682073706f742e0a09092d2d20436f6e7461696e7320666c6f6174732077686963682063616e206265204e614e2e200a09092d2d204974206973206e65766572206120636173652074686174207468652077686f6c65206d617472697820636f6e7461696e73204e614e202d20696e2073756368206120636173652077652073617665206e6f7468696e672e0a09092d2d204966206665617475726520646566696e6974696f6e2068617320736f6d6520636f6e6e656374656420766f636162756c617279207465726d73207468656e20746865206d6174726978200a09092d2d2073746f72657320464541545552455f564f434142554c4152595f5445524d532e53455155454e43455f4e554d424552206f6620746865207465726d73202873686f756c64206265206361737465642066726f6d20666c6f617420746f20696e74292e0a09092d2d20496620746865207465726d206973206e756c6c2074686520466c6f61742e4e614e2069732073746f7265642e0a090956414c554553204259544541204e4f54204e554c4c2c0a09090a090946445f49442020544543485f4944204e4f54204e554c4c2c0a09090a09095052494d415259204b455920284944292c0a0909434f4e53545241494e5420464b5f464541545552455f56414c5545535f3120464f524549474e204b4559202846445f494429205245464552454e43455320464541545552455f444546532028494429204f4e2044454c4554452043415343414445204f4e2055504441544520434153434144450a202020202d2d205468697320636f6e737461696e7420646f6573206e6f74206d616b6520616e792073656e73652e204c65617665206974206f757420666f72206e6f772e0a202020202d2d20434f4e53545241494e5420464541545552455f56414c5545535f554b5f3120554e49515545285a5f696e5f4d2c20545f696e5f534543290a293b0a0a43524541544520494e44455820464541545552455f56414c5545535f46445f494458204f4e20464541545552455f56414c5545532846445f4944293b0a43524541544520494e44455820464541545552455f56414c5545535f5a5f414e445f545f494458204f4e20464541545552455f56414c554553285a5f696e5f4d2c20545f696e5f534543293b0a0a0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f0a2f2a2046554e4354494f4e5320414e44205452494747455253202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202a2f0a2f2a202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d202a2f200a0a435245415445204f52205245504c4143452046554e4354494f4e2044454c4554455f554e555345445f494d4147455328292052455455524e5320747269676765722041532024240a424547494e0a20202064656c6574652066726f6d20696d61676573207768657265206964203d204f4c442e696d675f6964206f72206964203d204f4c442e7468756d626e61696c5f69643b0a20202052455455524e204e45573b0a454e443b0a2424204c414e47554147452027706c706773716c273b0a0a435245415445205452494747455220554e555345445f494d414745532041465445522044454c455445204f4e2041435155495245445f494d414745530a20202020464f52204541434820524f5720455845435554452050524f4345445552452044454c4554455f554e555345445f494d4147455328293b0a0a435245415445204f52205245504c4143452046554e4354494f4e2044454c4554455f554e555345445f4e554c4c45445f494d4147455328292052455455524e5320747269676765722041532024240a424547494e0a096966204e45572e696d675f6964204953204e554c4c207468656e0a09096966204f4c442e696d675f6964204953204e4f54204e554c4c207468656e0a0909202064656c6574652066726f6d20696d61676573207768657265206964203d204f4c442e696d675f69643b0a0909656e642069663b0a09656e642069663b0a096966204e45572e7468756d626e61696c5f6964204953204e554c4c207468656e0a09096966204f4c442e7468756d626e61696c5f6964204953204e4f54204e554c4c207468656e0a0909202064656c6574652066726f6d20696d61676573207768657265206964203d204f4c442e7468756d626e61696c5f69643b0a0909656e642069663b0a09656e642069663b0a0952455455524e204e45573b0a454e443b0a2424204c414e47554147452027706c706773716c273b0a0a435245415445205452494747455220554e555345445f4e554c4c45445f494d4147455320414654455220555044415445204f4e2041435155495245445f494d414745530a20202020464f52204541434820524f5720455845435554452050524f4345445552452044454c4554455f554e555345445f4e554c4c45445f494d4147455328293b0a0a435245415445204f52205245504c4143452046554e4354494f4e2044454c4554455f454d5054595f41435155495245445f494d4147455328292052455455524e5320747269676765722041532024240a424547494e0a0964656c6574652066726f6d2061637175697265645f696d61676573207768657265206964203d204f4c442e69643b0a0952455455524e204e45573b0a454e443b0a2424204c414e47554147452027706c706773716c273b0a0a435245415445205452494747455220454d5054595f41435155495245445f494d41474553204245464f524520555044415445204f4e2041435155495245445f494d414745530a0909464f52204541434820524f570a09095748454e20284e45572e696d675f6964204953204e554c4c20414e44204e45572e7468756d626e61696c5f6964204953204e554c4c290a0909455845435554452050524f4345445552452044454c4554455f454d5054595f41435155495245445f494d4147455328293b0a0a0a2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2d2d2020507572706f73653a20204372656174652074726967676572204348414e4e454c5f535441434b535f434845434b20776869636820636865636b7320696620626f74682073706f745f696420616e6420646174617365742e636f6e745f6964200a2d2d20202020202020202020202061726520626f7468206e756c6c206f72206e6f74206e756c6c2e0a2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a0a435245415445204f52205245504c4143452046554e4354494f4e204348414e4e454c5f535441434b535f434845434b28292052455455524e5320747269676765722041532024240a4445434c4152450a202020765f636f6e745f69642020434f44453b0a424547494e0a0a20202073656c65637420636f6e745f696420696e746f20765f636f6e745f69642066726f6d20696d6167655f646174615f73657473207768657265206964203d204e45572e64735f69643b0a0a2020202d2d20436865636b2074686174206966207468657265206973206e6f2073706f74207468616e207468657265206973206e6f206461746173657420636f6e7461696e65722061732077656c6c0a202020696620765f636f6e745f6964204953204e554c4c207468656e0a2020202020206966204e45572e73706f745f6964204953204e4f54204e554c4c207468656e0a202020202020202020524149534520455843455054494f4e2027496e736572742f557064617465206f66204348414e4e454c5f535441434b53206661696c65642c20617320746865206461746173657420636f6e7461696e6572206973206e6f74207365742c206275742073706f74206973202873706f74206964203d2025292e272c4e45572e73706f745f69643b0a202020202020656e642069663b0a0920656c73650a2020202020206966204e45572e73706f745f6964204953204e554c4c207468656e0a202020202020202020524149534520455843455054494f4e2027496e736572742f557064617465206f66204348414e4e454c5f535441434b53206661696c65642c20617320746865206461746173657420636f6e7461696e65722069732073657420286964203d2025292c206275742073706f74206973206e6f74207365742e272c765f636f6e745f69643b0a202020202020656e642069663b200a202020656e642069663b0a20202052455455524e204e45573b0a454e443b0a2424204c414e47554147452027706c706773716c273b0a0a4352454154452054524947474552204348414e4e454c5f535441434b535f434845434b204245464f524520494e53455254204f5220555044415445204f4e204348414e4e454c5f535441434b530a20202020464f52204541434820524f5720455845435554452050524f434544555245204348414e4e454c5f535441434b535f434845434b28293b0a202020200a2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2d2d2020507572706f73653a2020437265617465207472696767657220494d4147455f5452414e53464f524d4154494f4e535f44454641554c545f434845434b20776869636820636865636b73200a2d2d2020202020202020202020206966206174206d6f7374206f6e65206368616e6e656c2773207472616e73666f726d6174696f6e2069732064656661756c740a2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a0a435245415445204f52205245504c4143452046554e4354494f4e20494d4147455f5452414e53464f524d4154494f4e535f44454641554c545f434845434b28292052455455524e5320747269676765722041532024240a4445434c4152450a202020765f69735f64656661756c7420626f6f6c65616e3b0a424547494e0a2020206966204e45572e69735f64656661756c74203d20275427207468656e0a0920202073656c6563742069735f64656661756c7420696e746f20765f69735f64656661756c742066726f6d20494d4147455f5452414e53464f524d4154494f4e53200a092020200977686572652069735f64656661756c74203d20275427200a092020200909092020616e64206368616e6e656c5f6964203d204e45572e6368616e6e656c5f69640a0920202009090909616e6420696420213d204e45572e69643b0a09202020696620765f69735f64656661756c74206973204e4f54204e554c4c207468656e0a09202020202020524149534520455843455054494f4e2027496e736572742f557064617465206f6620696d616765207472616e73666f726d6174696f6e2028436f64653a202529206661696c65642c20617320746865206e6577207265636f7264206861732069735f64656661756c742073657420746f207472756520616e6420746865726520697320616c726561647920612064656661756c74207265636f726420646566696e65642e272c204e45572e636f64653b0a09202020656e642069663b0a202020656e642069663b0a0a20202052455455524e204e45573b0a454e443b0a2424204c414e47554147452027706c706773716c273b0a0a435245415445205452494747455220494d4147455f5452414e53464f524d4154494f4e535f44454641554c545f434845434b204245464f524520494e53455254204f5220555044415445204f4e20494d4147455f5452414e53464f524d4154494f4e530a20202020464f52204541434820524f5720455845435554452050524f43454455524520494d4147455f5452414e53464f524d4154494f4e535f44454641554c545f434845434b28293b0a202020200a	\N
\.


--
-- Data for Name: events; Type: TABLE DATA; Schema: public; Owner: -
--

COPY events (last_seen_deletion_event_id) FROM stdin;
\.


--
-- Data for Name: experiments; Type: TABLE DATA; Schema: public; Owner: -
--

COPY experiments (id, perm_id, image_transformer_factory) FROM stdin;
1	20161010125004951-1	\N
\.


--
-- Name: experiments_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('experiments_id_seq', 1, true);


--
-- Data for Name: feature_defs; Type: TABLE DATA; Schema: public; Owner: -
--

COPY feature_defs (id, code, label, description, ds_id) FROM stdin;
\.


--
-- Name: feature_defs_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('feature_defs_id_seq', 1, false);


--
-- Data for Name: feature_values; Type: TABLE DATA; Schema: public; Owner: -
--

COPY feature_values (id, z_in_m, t_in_sec, "values", fd_id) FROM stdin;
\.


--
-- Name: feature_values_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('feature_values_id_seq', 1, false);


--
-- Data for Name: feature_vocabulary_terms; Type: TABLE DATA; Schema: public; Owner: -
--

COPY feature_vocabulary_terms (id, code, sequence_number, fd_id) FROM stdin;
\.


--
-- Name: feature_vocabulary_terms_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('feature_vocabulary_terms_id_seq', 1, false);


--
-- Data for Name: image_data_sets; Type: TABLE DATA; Schema: public; Owner: -
--

COPY image_data_sets (id, perm_id, fields_width, fields_height, image_transformer_factory, is_multidimensional, image_library_name, image_library_reader_name, cont_id) FROM stdin;
1	20161010125005326-6	3	2	\N	f	\N	\N	1
\.


--
-- Name: image_data_sets_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('image_data_sets_id_seq', 1, true);


--
-- Data for Name: image_transformations; Type: TABLE DATA; Schema: public; Owner: -
--

COPY image_transformations (id, code, label, description, image_transformer_factory, is_editable, is_default, channel_id) FROM stdin;
\.


--
-- Name: image_transformations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('image_transformations_id_seq', 1, false);


--
-- Data for Name: image_zoom_level_transformations; Type: TABLE DATA; Schema: public; Owner: -
--

COPY image_zoom_level_transformations (id, zoom_level_id, channel_id, image_transformation_id) FROM stdin;
\.


--
-- Name: image_zoom_level_transformations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('image_zoom_level_transformations_id_seq', 1, false);


--
-- Data for Name: image_zoom_levels; Type: TABLE DATA; Schema: public; Owner: -
--

COPY image_zoom_levels (id, is_original, container_dataset_id, physical_dataset_perm_id, path, width, height, color_depth, file_type) FROM stdin;
1	t	1	20161010125004966-3		1392	1040	8	\N
2	f	1	20161010125005326-4	thumbnails.h5ar	256	191	24	png
3	f	1	20161010125005326-5	thumbnails_512x512.h5ar	512	383	24	png
\.


--
-- Name: image_zoom_levels_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('image_zoom_levels_id_seq', 3, true);


--
-- Data for Name: images; Type: TABLE DATA; Schema: public; Owner: -
--

COPY images (id, path, image_id, color) FROM stdin;
1	original/PLATE1/PLATE1_A01_02_Cy3.jpg	\N	\N
2	wA1_d2-1_cCy3	\N	\N
3	original/PLATE1/PLATE1_A01_02_DAPI.jpg	\N	\N
4	wA1_d2-1_cDAPI	\N	\N
5	original/PLATE1/PLATE1_A01_02_GFP.jpg	\N	\N
6	wA1_d2-1_cGFP	\N	\N
7	original/PLATE1/PLATE1_A01_05_Cy3.jpg	\N	\N
8	wA1_d2-2_cCy3	\N	\N
9	original/PLATE1/PLATE1_A01_05_DAPI.jpg	\N	\N
10	wA1_d2-2_cDAPI	\N	\N
11	original/PLATE1/PLATE1_A01_05_GFP.jpg	\N	\N
12	wA1_d2-2_cGFP	\N	\N
13	original/PLATE1/PLATE1_A01_01_Cy3.jpg	\N	\N
14	wA1_d1-1_cCy3	\N	\N
15	original/PLATE1/PLATE1_A01_01_DAPI.jpg	\N	\N
16	wA1_d1-1_cDAPI	\N	\N
17	original/PLATE1/PLATE1_A01_01_GFP.jpg	\N	\N
18	wA1_d1-1_cGFP	\N	\N
19	original/PLATE1/PLATE1_A01_04_Cy3.jpg	\N	\N
20	wA1_d1-2_cCy3	\N	\N
21	original/PLATE1/PLATE1_A01_04_DAPI.jpg	\N	\N
22	wA1_d1-2_cDAPI	\N	\N
23	original/PLATE1/PLATE1_A01_04_GFP.jpg	\N	\N
24	wA1_d1-2_cGFP	\N	\N
25	original/PLATE1/PLATE1_A01_03_Cy3.jpg	\N	\N
26	wA1_d3-1_cCy3	\N	\N
27	original/PLATE1/PLATE1_A01_03_DAPI.jpg	\N	\N
28	wA1_d3-1_cDAPI	\N	\N
29	original/PLATE1/PLATE1_A01_03_GFP.jpg	\N	\N
30	wA1_d3-1_cGFP	\N	\N
31	original/PLATE1/PLATE1_A01_06_Cy3.jpg	\N	\N
32	wA1_d3-2_cCy3	\N	\N
33	original/PLATE1/PLATE1_A01_06_DAPI.jpg	\N	\N
34	wA1_d3-2_cDAPI	\N	\N
35	original/PLATE1/PLATE1_A01_06_GFP.jpg	\N	\N
36	wA1_d3-2_cGFP	\N	\N
\.


--
-- Name: images_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('images_id_seq', 36, true);


--
-- Data for Name: spots; Type: TABLE DATA; Schema: public; Owner: -
--

COPY spots (id, x, y, cont_id) FROM stdin;
1	1	1	1
\.


--
-- Name: spots_id_seq; Type: SEQUENCE SET; Schema: public; Owner: -
--

SELECT pg_catalog.setval('spots_id_seq', 1, true);


--
-- Name: acquired_images_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY acquired_images
    ADD CONSTRAINT acquired_images_pkey PRIMARY KEY (id);


--
-- Name: analysis_data_sets_perm_id_key; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY analysis_data_sets
    ADD CONSTRAINT analysis_data_sets_perm_id_key UNIQUE (perm_id);


--
-- Name: analysis_data_sets_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY analysis_data_sets
    ADD CONSTRAINT analysis_data_sets_pkey PRIMARY KEY (id);


--
-- Name: channel_stacks_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY channel_stacks
    ADD CONSTRAINT channel_stacks_pkey PRIMARY KEY (id);


--
-- Name: channels_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT channels_pkey PRIMARY KEY (id);


--
-- Name: channels_uk_1; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT channels_uk_1 UNIQUE (code, ds_id);


--
-- Name: channels_uk_2; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT channels_uk_2 UNIQUE (code, exp_id);


--
-- Name: containers_perm_id_key; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY containers
    ADD CONSTRAINT containers_perm_id_key UNIQUE (perm_id);


--
-- Name: containers_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY containers
    ADD CONSTRAINT containers_pkey PRIMARY KEY (id);


--
-- Name: experiments_perm_id_key; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY experiments
    ADD CONSTRAINT experiments_perm_id_key UNIQUE (perm_id);


--
-- Name: experiments_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY experiments
    ADD CONSTRAINT experiments_pkey PRIMARY KEY (id);


--
-- Name: feature_defs_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY feature_defs
    ADD CONSTRAINT feature_defs_pkey PRIMARY KEY (id);


--
-- Name: feature_defs_uk_1; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY feature_defs
    ADD CONSTRAINT feature_defs_uk_1 UNIQUE (code, ds_id);


--
-- Name: feature_values_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY feature_values
    ADD CONSTRAINT feature_values_pkey PRIMARY KEY (id);


--
-- Name: feature_vocabulary_terms_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY feature_vocabulary_terms
    ADD CONSTRAINT feature_vocabulary_terms_pkey PRIMARY KEY (id);


--
-- Name: image_data_sets_perm_id_key; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_data_sets
    ADD CONSTRAINT image_data_sets_perm_id_key UNIQUE (perm_id);


--
-- Name: image_data_sets_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_data_sets
    ADD CONSTRAINT image_data_sets_pkey PRIMARY KEY (id);


--
-- Name: image_transformations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_transformations
    ADD CONSTRAINT image_transformations_pkey PRIMARY KEY (id);


--
-- Name: image_transformations_uk_1; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_transformations
    ADD CONSTRAINT image_transformations_uk_1 UNIQUE (code, channel_id);


--
-- Name: image_zoom_level_transformations_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_zoom_level_transformations
    ADD CONSTRAINT image_zoom_level_transformations_pkey PRIMARY KEY (id);


--
-- Name: image_zoom_levels_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY image_zoom_levels
    ADD CONSTRAINT image_zoom_levels_pkey PRIMARY KEY (id);


--
-- Name: images_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY images
    ADD CONSTRAINT images_pkey PRIMARY KEY (id);


--
-- Name: spots_pkey; Type: CONSTRAINT; Schema: public; Owner: -; Tablespace: 
--

ALTER TABLE ONLY spots
    ADD CONSTRAINT spots_pkey PRIMARY KEY (id);


--
-- Name: analysis_data_sets_cont_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX analysis_data_sets_cont_idx ON analysis_data_sets USING btree (cont_id);


--
-- Name: channel_stacks_dim_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX channel_stacks_dim_idx ON channel_stacks USING btree (x, y, z_in_m, t_in_sec);


--
-- Name: channel_stacks_ds_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX channel_stacks_ds_idx ON channel_stacks USING btree (ds_id);


--
-- Name: channel_stacks_spot_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX channel_stacks_spot_idx ON channel_stacks USING btree (spot_id);


--
-- Name: channels_ds_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX channels_ds_idx ON channels USING btree (ds_id);


--
-- Name: containers_expe_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX containers_expe_idx ON containers USING btree (expe_id);


--
-- Name: feature_defs_ds_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX feature_defs_ds_idx ON feature_defs USING btree (ds_id);


--
-- Name: feature_values_fd_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX feature_values_fd_idx ON feature_values USING btree (fd_id);


--
-- Name: feature_values_z_and_t_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX feature_values_z_and_t_idx ON feature_values USING btree (z_in_m, t_in_sec);


--
-- Name: feature_vocabulary_terms_fd_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX feature_vocabulary_terms_fd_idx ON feature_vocabulary_terms USING btree (fd_id);


--
-- Name: image_data_sets_cont_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX image_data_sets_cont_idx ON image_data_sets USING btree (cont_id);


--
-- Name: image_transformations_channels_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX image_transformations_channels_idx ON image_transformations USING btree (channel_id);


--
-- Name: image_zoom_level_transformations_zlid_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX image_zoom_level_transformations_zlid_idx ON image_zoom_level_transformations USING btree (zoom_level_id);


--
-- Name: image_zoom_levels_cont_fk_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX image_zoom_levels_cont_fk_idx ON image_zoom_levels USING btree (container_dataset_id);


--
-- Name: image_zoom_levels_phys_ds_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX image_zoom_levels_phys_ds_idx ON image_zoom_levels USING btree (physical_dataset_perm_id);


--
-- Name: images_channel_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX images_channel_idx ON acquired_images USING btree (channel_id);


--
-- Name: images_channel_stack_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX images_channel_stack_idx ON acquired_images USING btree (channel_stack_id);


--
-- Name: images_img_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX images_img_idx ON acquired_images USING btree (img_id);


--
-- Name: images_thumbnail_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX images_thumbnail_idx ON acquired_images USING btree (thumbnail_id);


--
-- Name: spots_cont_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX spots_cont_idx ON spots USING btree (cont_id);


--
-- Name: spots_coords_idx; Type: INDEX; Schema: public; Owner: -; Tablespace: 
--

CREATE INDEX spots_coords_idx ON spots USING btree (cont_id, x, y);


--
-- Name: channel_stacks_check; Type: TRIGGER; Schema: public; Owner: -
--

CREATE TRIGGER channel_stacks_check BEFORE INSERT OR UPDATE ON channel_stacks FOR EACH ROW EXECUTE PROCEDURE channel_stacks_check();


--
-- Name: empty_acquired_images; Type: TRIGGER; Schema: public; Owner: -
--

CREATE TRIGGER empty_acquired_images BEFORE UPDATE ON acquired_images FOR EACH ROW WHEN (((new.img_id IS NULL) AND (new.thumbnail_id IS NULL))) EXECUTE PROCEDURE delete_empty_acquired_images();


--
-- Name: image_transformations_default_check; Type: TRIGGER; Schema: public; Owner: -
--

CREATE TRIGGER image_transformations_default_check BEFORE INSERT OR UPDATE ON image_transformations FOR EACH ROW EXECUTE PROCEDURE image_transformations_default_check();


--
-- Name: unused_images; Type: TRIGGER; Schema: public; Owner: -
--

CREATE TRIGGER unused_images AFTER DELETE ON acquired_images FOR EACH ROW EXECUTE PROCEDURE delete_unused_images();


--
-- Name: unused_nulled_images; Type: TRIGGER; Schema: public; Owner: -
--

CREATE TRIGGER unused_nulled_images AFTER UPDATE ON acquired_images FOR EACH ROW EXECUTE PROCEDURE delete_unused_nulled_images();


--
-- Name: fk_analysis_data_set_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY analysis_data_sets
    ADD CONSTRAINT fk_analysis_data_set_1 FOREIGN KEY (cont_id) REFERENCES containers(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_channel_stacks_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY channel_stacks
    ADD CONSTRAINT fk_channel_stacks_1 FOREIGN KEY (spot_id) REFERENCES spots(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_channel_stacks_2; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY channel_stacks
    ADD CONSTRAINT fk_channel_stacks_2 FOREIGN KEY (ds_id) REFERENCES image_data_sets(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_channels_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT fk_channels_1 FOREIGN KEY (ds_id) REFERENCES image_data_sets(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_channels_2; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY channels
    ADD CONSTRAINT fk_channels_2 FOREIGN KEY (exp_id) REFERENCES experiments(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_feature_defs_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_defs
    ADD CONSTRAINT fk_feature_defs_1 FOREIGN KEY (ds_id) REFERENCES analysis_data_sets(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_feature_values_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_values
    ADD CONSTRAINT fk_feature_values_1 FOREIGN KEY (fd_id) REFERENCES feature_defs(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_feature_vocabulary_terms_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY feature_vocabulary_terms
    ADD CONSTRAINT fk_feature_vocabulary_terms_1 FOREIGN KEY (fd_id) REFERENCES feature_defs(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_image_data_set_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_data_sets
    ADD CONSTRAINT fk_image_data_set_1 FOREIGN KEY (cont_id) REFERENCES containers(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_image_transformations_channel; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_transformations
    ADD CONSTRAINT fk_image_transformations_channel FOREIGN KEY (channel_id) REFERENCES channels(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_image_zoom_level_transformations_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_zoom_level_transformations
    ADD CONSTRAINT fk_image_zoom_level_transformations_1 FOREIGN KEY (zoom_level_id) REFERENCES image_zoom_levels(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_image_zoom_level_transformations_2; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_zoom_level_transformations
    ADD CONSTRAINT fk_image_zoom_level_transformations_2 FOREIGN KEY (channel_id) REFERENCES channels(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_image_zoom_levels_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY image_zoom_levels
    ADD CONSTRAINT fk_image_zoom_levels_1 FOREIGN KEY (container_dataset_id) REFERENCES image_data_sets(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_images_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY acquired_images
    ADD CONSTRAINT fk_images_1 FOREIGN KEY (channel_stack_id) REFERENCES channel_stacks(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_images_2; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY acquired_images
    ADD CONSTRAINT fk_images_2 FOREIGN KEY (channel_id) REFERENCES channels(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_images_3; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY acquired_images
    ADD CONSTRAINT fk_images_3 FOREIGN KEY (img_id) REFERENCES images(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: fk_images_4; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY acquired_images
    ADD CONSTRAINT fk_images_4 FOREIGN KEY (thumbnail_id) REFERENCES images(id) ON UPDATE CASCADE ON DELETE SET NULL;


--
-- Name: fk_sample_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY containers
    ADD CONSTRAINT fk_sample_1 FOREIGN KEY (expe_id) REFERENCES experiments(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: fk_spot_1; Type: FK CONSTRAINT; Schema: public; Owner: -
--

ALTER TABLE ONLY spots
    ADD CONSTRAINT fk_spot_1 FOREIGN KEY (cont_id) REFERENCES containers(id) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: public; Type: ACL; Schema: -; Owner: -
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
GRANT ALL ON SCHEMA public TO PUBLIC;


--
-- PostgreSQL database dump complete
--

